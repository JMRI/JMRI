<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
 <title>
 JMRI: Release Notes for 4.16
 </title>
    <meta name="author" content="Bob Jacobsen">
    <meta name="keywords" content="java model railroad JMRI 4.16 decoderpro panelpro loconet lenz nce easydcc dcc nmra">

    <!--#include virtual="/Style.shtml" -->

</head>

<body>

<!--#include virtual="/Header.shtml" -->

  <div id="mBody">
    <!--#include virtual="../download/Sidebar.shtml" -->
    <div id="mainContent">
      <h1>
      Release Notes for JMRI 4.16 release
      </h1>

    <p>Date: July 6, 2019</p>
    <p>From: Bob Jacobsen</p>
    <p>Subject: Production Release 4.16 of JMRI/DecoderPro is available for download.</p>

<!-- 
<p><b>This is a draft release note only; the download links do not yet work</b></p>
 -->

<p>We are very pleased to announce that the 4.15 series of JMRI test releases has resulted in a
version that's good enough to be recommended for general use, including by new users.
We're therefore making that version, "Production Release 4.16" available for download today.</p>

<h2>Notes:</h2>

<p><b>
JMRI is now only available under the
<a href="/COPYING">GNU General Public License</a>. For more information, please
see our
<a href="/copyright.shtml">copyright and licensing page</a>.</b></p>

<a id="update" name="update"></a>
<h3>Update From Older JMRI Versions</h3>
<p>If you are currently using JMRI 4.11.9 or earlier, we strongly recommend that you update to 
        <a href="jmri4.12.shtml">JMRI 4.12</a> and make sure that's running OK before
        updating to this test release.  Once you have JMRI 4.12 running OK, 
        store your configuration and panel files and use those from then on.
        There have been a number of 
        changes in serial port support, panel file format and configuration options since those earlier releases, 
        and moving to the stable <a href="jmri4.12.shtml">JMRI 4.12</a> release
        is a good way to work through any possible problems.
        </p>
<p>If you are currently using JMRI 4.7.3 or earlier on Linux or macOS (Windows doesn't need this), 
    you <u>must</u> 
    update to <a href="jmri4.12.shtml">JMRI 4.12</a> and
    carrying out the <a href="jmri4.12.shtml#migration">migration process described in the JMRI 4.12 release note</a>
    before updating to this release.


<a id="problems" name="problems"></a>
<h3>Known problems with this release</h3>
<ul>
    <li>MERG CBUS - Throttle direction changes are not always sent to the Layout, resolved in 
        <a href="jmri4.17.2.shtml">JMRI 4.17.2</a></li>
    <li>LocoNet connections - New and updated LocoNet connections with this release might 
        end up with the wrong baud rate, which will cause them to not function.  
        This is resolved in  
        <a href="jmri4.17.3.shtml">JMRI 4.17.3</a></li>
</ul>

These are serious enough that we recommend that users skip this release
and go straight to <a href="jmri4.18.shtml">JMRI 4.18</a> instead.

<!--
If any of those affect you, please either 
wait for
<a href="jmri4.17.2.shtml">JMRI 4.17.2</a>, due out shortly after this one,
or (once there's a fix for the problem) pick up a
<a href="http://builds.jmri.org/jenkins/job/Development/job/Packages/">development build installer</a>
from
<a href="http://builds.jmri.org/jenkins/job/Development/job/Packages/">Jenkins</a>.</p>
 -->

<a id="warnings" name="warnings"></a>
<h3>New warnings for this production release:</h3>

<ul>
<li><span class="since">Since <a href="jmri4.15.7.shtml">JMRI 4.15.7</a></span>
    In some cases, existing C/MRI, TMCC, Oaktree, and Maple users
    might have to reset the connection rate in the preferences before a 
    serial connection will work with this version.  You only have to do this once, and only
    if the connection doesn't start up OK after updating from an earlier JMRI version.  In that 
    case, open the Preferences, go to the Connection pane, check the box for Advanced Preferences
    so they're visible, set the baud rate (connection speed) to some <u>other</u> value,
    then set it back to the correct one (this is so JMRI sees a change and stores it properly),
    then Save and restart. For example, if you want your C/MRI serial line to run at 19.200,
    you should open the Preferences, change the speed selection (in Advanced Preferences) to 9,600
    then back to 19,200, then save your preferences and restart. 
    </li>

<li><span class="since">Since <a href="jmri4.15.7.shtml">JMRI 4.15.7</a></span>
    The version of the JSON protocol used for JMRI web access has been bumped to version 5.0 due to backwards incompatible
    changes to make different JSON objects more internally consistent and to accomodate the ability to remove some
    objects. See the <a href="http://jmri.org/JavaDoc/doc/jmri/server/json/package-summary.html#history">JSON Version
    History</a> for more details.
    Specifically, due to underlying changes in the Operations web access, 
    train manifests will need to rebuilt before web access to train manifests works.
    </li>

<li><span class="since">Since <a href="jmri4.15.6.shtml">JMRI 4.15.6</a></span>
        Remembering the location and size of layout panels created and maintained
        using Layout Editor, Panel Editor, Control Panel Editor, and Switchboard
        Editor is no longer dependent on saving the panel.  The location and size
        values are retained using the same processes used by other JMRI windows.  This
        makes the window management behavior consistent.  To continue using the
        old behavior, go to <strong>Preferences >> Display</strong> and enable
        <strong>Use old location and size logic for editor panels</strong>.

<li><span class="since">Since <a href="jmri4.15.6.shtml">JMRI 4.15.6</a></span>
        Starting in <a href="jmri4.15.6.shtml">JMRI 4.15.6</a>, Memories
        must have valid system names of the form "IM" folllowed by something.
        "IM123" and "IMEAST" are both valid. 
        The system name "IM", all by itself, has never been valid, but JMRI 
        will now be enforcing that:
        <ul>
            <li>You won't be able to create a memory with that name via
                the Memory table or scripts
            <li>If you have that name in a panel file, an error will be 
                logged and the panel file won't load. You'll have to 
                remove it from the file or rename it in the file
                before loading it.
        </ul>
        JMRI needs to start enforcing this in preparation for some
        future code that will appear later this year.
</li>

<li><span class="since">Since <a href="jmri4.15.5.shtml">JMRI 4.15.5</a></span>
        The handling of Turnout system names has been updated
        to be (more, hopefully completely) consistent with the
        <a href="/help/en/html/doc/Technical/Names.shtml">planned approach</a>.
        Specifically, case now (generally) matters in system names:
        <ul>
            <li>You can now have an internal turnout named "ITsome lower case name".
            <li>But note you can no longer refer to "ITSOME LOWER CASE NAME" or
                "ITSome LoWeR cAse Name" and get the same one.
        </ul>
        This should not require any migration for stored configurations or 
        panel files, as they have been automatically been being kept consistent 
        since JMRI 4.8.  But you might have case errors in i.e. scripts which
        will fixing inconsistent references in your scripts.
        Of course, bugs are always possible. If you find a place where 
        names seem to be handled inconsistently, please let us know!

<li><span class="since">Since <a href="jmri4.15.4.shtml">JMRI 4.15.4</a></span>
        The calculation of Turnout Addresses for the
        <a href="/help/en/html/hardware/dccpp/Turnouts.shtml" target="_blank">
        Direct DCC Accessory Command ("a" command)</a> mode
        has been fixed (commands are now sent to the correct accessory address rather
        than 4 less than the nominated hardware address). For pre-existing panels,
        changes will need to be made to either the actual decoder address or the panel.
        If help is required, ask on the
        <a href="https://groups.io/g/jmriusers/" target="_blank">
        jmriusers</a> group.

<li><span class="since">Since <a href="jmri4.15.3.shtml">JMRI 4.15.3</a></span>
        The prefix that identifies a layout connection should be a single letter, like "N" or "L",
        or a letter and some digits, like "K2" or "D3". Some older systems used to have
        longer "legacy system prefixes" like "DX", "DCCPP", "DP", "MR", "MC", "PI", and "TM".
        Those <a href="http://jmri.org/help/en/html/setup/MigrateSystemPrefixes.shtml">legacy system prefixes</a>
        will now cause JMRI to issues a warning at startup. In this release, JMRI will
        still work with those prefixes, but they will need to be migrated to the proper form soon;
        JMRI 4.17.1 and later will <u>require</u> that this have been fixed.
        Therefore, this warning can't be suppressed
        without migrating the prefix in the connection configuration (and any associated
        panel files and scripts).
        If you're getting this warning and therefore need to do that migration,
        <a href="http://jmri.org/help/en/html/setup/MigrateSystemPrefixes.shtml">migration page</a>.</li>
</ul>

<h3>Older warnings</h3>

See the <a href="jmri4.14.shtml#warnings">JMRI 4.14 release note</a> for more warnings predating the 4.15 development series.
These may be relevant to you if you're updating from an earlier version.

<ul>

<li><span class="since">Since <a href="jmri4.11.4.shtml">JMRI 4.11.4</a></span>
    There are issues with the Pi-SPROG One command station operation. A number of workarounds should be applied:
    <ul>
        <li>Do not turn on the track power until the power supply to the Pi-SPROG ONE is turned on</li>
        <li>Do not enable extra debugging through default.lcf, nor open the system console window</li>
        <li>Do not open the SPROG console window</li>
        <li>Disable power conversion (CV 29) in all locos</li>
        <li>If connecting via VNC (or similar), setup the screen layout before turning on the track power</li>
    </ul>
    Pi-SPROG One with version 2.4 or earlier firmware will cause a timeout after a track short circuit. A dialog box will
    open to inform the user of this. The track power will be turned off and must be turned on again using the power control.
</ul>
      
<a id="download" name="download"></a>
<h2>Download links:</h2>

Please note that the download links in this and future JMRI releases link to 
<a href="https://github.com/JMRI/JMRI/releases/">Github servers</a>.
People are welcome to distribute the download files further via other websites, etc.
If you want to check that you've received original, unmodified versions, please
check the files against the checksums shown below.
 
<ul>
<li>OS X / macOS: <a
	href="https://github.com/JMRI/JMRI/releases/download/v4.16/JMRI.4.16+R6f9aced.dmg">https://github.com/JMRI/JMRI/releases/download/v4.16/JMRI.4.16+R6f9aced.dmg</a><br/>
  sha256: 0e5172155ab02e5d67016c5338665736e4ffcc33e8a2ae6dc5bdd84e83ef11e0 </li>

<li>Windows: <a
	href="https://github.com/JMRI/JMRI/releases/download/v4.16/JMRI.4.16+R6f9aced.exe">https://github.com/JMRI/JMRI/releases/download/v4.16/JMRI.4.16+R6f9aced.exe</a><br/>
   sha256: 3ce4ca2f734bd8c3221705878bd82c3e8774a5db828a4ed397b8737290818e8d</li>

<li>Linux: <a
	href="https://github.com/JMRI/JMRI/releases/download/v4.16/JMRI.4.16+R6f9aced.tgz">https://github.com/JMRI/JMRI/releases/download/v4.16/JMRI.4.16+R6f9aced.tgz</a><br/>
   sha256: 9e9123ffca62f488b7bf7ce16143eaf00565eba8017b85afde914d8e382183cb</li>
</ul>

<h2>Changes since <a href="jmri4.14.shtml">production release 4.14</a>:</h2>

<p>
This production version is made from test releases 4.15.1 through 4.15.9.  The 
<a href="https://github.com/JMRI/JMRI/pulls?utf8=✓&q=is%3Apr+merged%3A%3E%3D2019-07-06">full list of changes</a>
in those is 
<a href="https://github.com/JMRI/JMRI/pulls?utf8=✓&q=is%3Apr+merged%3A%3E%3D2019-07-06">available from our code repository</a>.

    <h3>Hardware Support</h3>

        <h4>DCC++</h4>
        <ul>
            <li>
                The calculation of Turnout Addresses for the
                <a href="/help/en/html/hardware/dccpp/Turnouts.shtml" target="_blank">
                    Direct DCC Accessory Command ("a" command)</a> mode
                has been fixed. Commands are now sent to the accessory address entered in
                the JMRI Turnout Table. (Dave Heap)
            </li>
            <li>
                The DCC++ Traffic Monitor no longer crashes when attempting to display some commands.
            </li>
        </ul>

        <h4>Hornby</h4>
            <ul>
                <li>Improve the sequence of messages used when programming with the Hornby Elite</li>
            </ul>

        <h4>LocoNet</h4>
            <ul>
                <li>"PR3 Standalone Programmer" mode has been updated so that only one LocoNet menu will be displayed, instead of displaying two menus.</li>
                <li>Digitrax connections now support PR4, DCS240 and DCS210 via uniquely named connection types.</li>
                <li>Addresses a problem when track power status is changed on the DCS52 which can cause a JMRI code failure.</li>
                <li><p>JMRI's support for the Digitrax PR4 has been updated to
                    reflect the PR4's inability to provide
                    "LocoNet Data Signal termination". </p>

                    <p>This is a correction to JMRI's previous implementation of
                    PR4 functionality.  It reflects a a more-accurate understanding
                    of PR4 features by the JMRI development team.</p>

                    <p>When configuring a JMRI "connection" for the PR4, the "Command
                    station type" of "Stand-alone LocoNet" is no longer available.
                    Users with an existing PR4 connection which has been configured
                    for a "Command station type" of "Stand-alone LocoNet" should
                    change their "Command station type" to some other selection,
                    such as "DCS100", and save the configuration profile.</p>

                    <p>Because LocoNet requires some source of "LocoNet Data Signal
                    termination", and because the PR4 is not capable of providing
                    that feature, it will be necessary to provide it using some
                    other piece of LocoNet hardware.  Both commercially-available and
                    do-it-yourself options are available, as described in the
                    "<a href="http://jmri.org/help/en/html/hardware/loconet/StandaloneLocoNet.shtml#dataterm">
                    LocoNet Data Signal termination</a>" section of the JMRI
                    <a href="http://jmri.org/help/en/html/hardware/loconet/StandaloneLocoNet.shtml">
                    Standalone LocoNet</a>" help page.</p>
                </li>
                <li>
                    Track Current support for the DCS240,DCS210 and DCS52 has been added.
                </li>
                <li>
                    Turnouts can now be configured to send only a single LTnnn command (ON)
                    instead of an ON followed by OFF, and turnouts can also be configured
                    to bypass a command station "Bushby" feature as described in <a href="/help/en/html/hardware/loconet/Digitrax.shtml#alternatives"
                    target="_blank">Command Station Turnout Command Rejection Avoidance Strategies</a>
                </li>
            </ul>

        <h4>MERG CBUS</h4>
            <ul>
                <li>Steve Young made multiple improvements</li>
                <li>Turnouts now accept DIRECT and DELAYED feedback.</li>
                <li>Querying a turnout will also query any feedback sensors for that turnout.</li>
                <li>Event Request monitoring has moved from the Event Table to a stand-alone request monitoring table.</li>
                <li>The CBUS console will attempt to lookup event ( and node ) names from the Event Table.</li>
                <li><a
                href="http://jmri.org/help/en/package/jmri/jmrix/can/cbus/swing/nodeconfig/NodeConfigToolPane.shtml">CBUS
                Node Manager</a> provides a Node Table with further Node Configuration tools.</li>
                <li>CBUS Event Table name import from MERG FCU file has moved to the Node Manager,
                where a file preview and further import tools are now available.</li>
                <li>Track Current meter avaiable for supported Command Stations via
                PanelPro > Tools > Track Current Meter</li>
                <li>Fixed issue with Roster speed-profiling</li>
                <li><a href="http://jmri.org/help/en/html/hardware/can/cbus/Names.shtml#reporters">CBUS Reporters</a> are no longer automatically created when hearing a DDES or ACDAT CBUS OPC.
                    <br>New CBUS Reporters can now be created in a sequential range.
                </li>
                <li>Increased support for stealing / sharing command station sessions, see
                    <a href="http://jmri.org/help/en/html/hardware/can/cbus/index.shtml#dcc">CBUS Hardware Support</a></li>
                <li>Update some node identification information</li>
            </ul>

        <h4>MQTT</h4>
            <ul>
                <li>The updated MQTT support in this release
                    <ul>
                    <li>allows you to change the topic string used for publishing and subscribing and
                    <li>allows changing the payload
                    of MqttTurnouts, i.e. to use JSON instead of fixed strings.
                    </ul>
                    For more information, see the description at the bottom of the
                    <a href="http://jmri.org/help/en/hardware/mqtt/index.shtml">MQTT page</a>.
                    </li>
            </ul>
            
        <h4>Roco z21/Z21</h4>
            <ul>
                <li>Paul Bender added support for RMBus sensors</li>
                <li>Fixed Delay in throttle message processing</li>
            </ul>

        <h4>SPROG</h4>
            <ul>
                <li>Added fixes for SPROG bootloader client</li>
            </ul>

        <h4>XpressNet</h4>
            <ul>
                <li>Added support for Idle mode to the power manager.  
                    This indicates a global emergency stop (track power on, all locomotives stopped)</li>
            </ul>



    <h3>New / Updated decoder definitions</h3>
      <ul>
        <li>Dave Heap improved how the decoder identification process handles optional CVs</li>
     </ul>

        <h4>CT Elektronik</h4>
            <ul>
                <li>Nigel Cliffe added a decoder definition for the
                    NGS custom CT decoder</li>
            </ul>

        <h4>Digitrax</h4>
            <ul>
                <li>Fixed an issue in CV11 of SFX Series 6 decoders</li>
            </ul>

        <h4>ESU</h4>
            <ul>
                <li>
                    ESU LokSound decoder users can now read the loaded Sound Project Name
                    (and other decoder information) on the Information Pane.
                    <br>
                    This allows cross-referencing to the ESU website
                    (copy the "Loco Name" to search the Projects section) in order to
                    find the ESU bulletin and hence determine
                    Sound Slot and Function Key names. (Dave Heap)
                </li>
                <li>Added the Essential Sound Unit (an OEM-only decoder).</li>
                <li>Added the LokSound 5 family.</li>
                <li>Added the SUSI Map to those V4/5 decoders that support it.</li>
                <li>Split the Sound Pane into two panes - &quot;Sound&quot; and &quot;Sound Levels&quot;.</li>
                <li>Improved the speed of Import-&gt;LokProgrammer CV list file.</li>
            </ul>

        <h4>Hornby</h4>
            <ul>
                <li>Brian Jackson updated the Hornby TTS definition</li>
            </ul>

        <h4>Kuehn</h4>
            <ul>
                <li>The Kuehn N025/N45 definition was updated</li>
            </ul>

        <h4>Lenz</h4>
            <ul>
                <li>Added connection option for the Lenz LZV200</li>
            </ul>

        <h4>RR-CirKits</h4>
            <ul>
                <li>The RR-CirKits Motorman definition was updated</li>
            </ul>

        <h4>SoundTraxx</h4>
            <ul>
                <li>Michael Mosher fixed a bug in GP35 SP CV54</li>
		        <li>Michael Mosher added more models to Athearn ECO OEM file</li>
		        <li>Michael Mosher added more models to Athearn Genesis TSU2 OEM file</li>
            </ul>

        <h4>TCS</h4>
            <ul>
                <li>
		            Add Trim CV to Basic Speed Control pane</li>
		        <li>
		            Add WOW Ver 4 Prime decoder (Michael Mosher)</li>
                <li>Fix FN ditch light</li>
            </ul>

        <h4>Uhlenbrock</h4>
            <ul>
                <li>A new definition was added for the 73xx5 IntelliDrive2 decoders. It also works on two Piko 4.1
                sound decoder models.<br>
                The definition is still under development and not complete. Please report read test results on
                your hardware.</li>
            </ul>

        <h4>ZIMO</h4>
            <ul>
                <li>Ronald Kuhn did a lot of work on the Zimo definitions, including adding V37 definitions</li>
            </ul>


    <h3>DecoderPro</h3>
        <a id="DecoderPro" name="DecoderPro"/>
        <ul>
            <li>Added "Accept All" button to roster import</li>
            <li>Dave Heap improved how the decoder identification process handles optional CVs</li>
            <li>Decoder definitions for indexed-access CVs can now use a "81=23.40" (cvFirst = false) /
            "40.81=23" (cvFirst = true) syntax to specify an alternate PI and/or SI CV.<br>
            The previous syntax continues to work unchanged.
            </li>
            <li>"output" definition elements can now be included in the "family" element, or
            via including a fragment file.  The 0NMRA.xml file has an example of this.
            <li>
                Changes to
                <a href="/help/en/html/apps/DecoderPro/CreateDecoderAdvanced.shtml#splitval"
                   target="_blank">Split Variables</a>.
                <ul>
                    <li>
                        More than 2 CVs can be specified for
                        <a href="/JavaDoc/doc/jmri/jmrit/symbolicprog/SplitVariableValue.html"
                           target="_blank">splitVal</a>
                        and the other new types, using a new notation format.
                    </li>
                    <li>
                        A new
                        <a href="/JavaDoc/doc/jmri/jmrit/symbolicprog/SplitHexVariableValue.html"
                           target="_blank">splitHexVal</a>
                        type for hexadecimal entry/display.
                    </li>
                    <li>
                        A new
                        <a href="/JavaDoc/doc/jmri/jmrit/symbolicprog/SplitDateTimeVariableValue.html"
                           target="_blank">splitDateTimeVal</a>
                        type for Date/Time information stored across CVs
                        (e.g. dates in the RailCom&reg; CV page).
                    </li>
                    <li>
                        A new
                        <a href="/JavaDoc/doc/jmri/jmrit/symbolicprog/SplitTextVariableValue.html"
                           target="_blank">splitTextVal</a>
                        type for entry and display of text strings stored across CVs .
                    </li>
                </ul>
                For more information see
                <a href="/help/en/html/apps/DecoderPro/CreateDecoderAdvanced.shtml#splitval"
                   target="_blank">Advanced Decoder Definitions</a>. (Dave Heap)
            </li>
        </ul>

    <h3>Internationalization</h3>
        <a id="I18N" name="I18N"></a>
        <ul>
            <li>Petr Šídlo improved the Czech translation</li>
        </ul>

    <h3>Layout Editor</h3>
        <a id="LE" name="LE"/>
        <ul>
	   <li>Dave Sand improved tooltip handling</li>
           <li>The <strong>Save Location and Size</strong> Options menu item is
              not displayed when automatic location and size behavior is active.
              See the above warning.</li>
           <li>Color for new tracks is now consistent within a single Layout Editor.</li>
           <li>Turnouts, level crossings, track segments and positional points (A/EB/EC) cannot
              be deleted if signal heads, signal masts or sensors have been assigned to the item.
              Also, an edge connector cannot be deleted if the link is defined.</li>
	   <li>Fixed a problem with deleting edge connectors or end bumpers that did not
              have an attached track segment.</li>
        </ul>

    <h3>Panel Editors</h3>
        <a id="PE" name="PE"></a>
        <h4>CTC Tool</h4>
            <a id="PE-CTC" name="PE-CTC"></a>
            <ul>
                <li>A new CTC tool has been added to JMRI.  An Editor component uses
                a set of screens to define the CTC system.  The resulting data can
                be used to create a USS CTC Panel (Panel Editor) with all of the
                levers, indicators, and a minimal track plan with turnouts and
                signals.  A run time component uses the configuration to implement
                prototype CTC logic with no scripting or Logix.</li>
            </ul>

    <h3>Operations</h3>
        <a id="Operations" name="Operations"></a>
        <ul>
            <li>Due to underlying changes in the Operations web access, train manifests will need to rebuilt before web access to train manifests works.</li>
        </ul>

    <h3>Roster</h3>
        <a id="Roster" name="Roster"/>
        <ul>
            <li>Added "Accept All" button to roster import operation</li>
            <li>Improved handling of timestamps for the last run and running duration features</li>
        </ul>

    <h3>Turnouts, Lights, Sensors and other elements</h3>
        <a id="TLae" name="TLae"/>
        <ul>
            <li>Fixed an issue where Reporters with a system letter of M
                were erroneously tagged as 
                <a href="http://jmri.org/help/en/html/setup/MigrateSystemPrefixes.shtml">requiring migration</a>.</li>
            <li>RailCom Tags now appear in the ID Tag table and are available to operations and other tools just like other Identifiable tags.</li>
            <li>LocoNet reporters now report a Transponding Tag object instead of a string.  This object allows extracting the address without further parsing.  As with RailCom tags, these also apear in the IdTag table and are available totools such as operations.</li>
            <li>Internal Reporters can now collect information.  An example showing how to use this feature is <a href="https://github.com/pabender/Sensys2014">available here</a>.</li>
            <li>The handling of Turnout system names has been updated
                to be (more, hopefully completely) consistent with the
                <a href="/help/en/html/doc/Technical/Names.shtml">planned approach</a>.
                Specifically, case now (generally) matters in system names:
                <ul>
                    <li>You can now have an internal turnout named "ITsome lower case name".
                    <li>But note you can no longer refer to "ITSOME LOWER CASE NAME" or
                        "ITSome LoWeR cAse Name" and get the same one.
                </ul>
                This should not require any migration for stored configurations or
                panel files, as they have been automatically been being kept consistent
                since JMRI 4.8.  But you might have case errors in i.e. scripts which
                will fixing inconsistent references in your scripts.
                </li>
            <li>The table and manager containing the element are no longer listed as items using the element when deleting the
                element in the delete confirmation dialog. The count of items using the element shown in the delete confirmation
                dialog now match the number of items shown to be using the element.</li>
        </ul>
	</ul>

    <h3>Scripting</h3>
        <a id="Scripting" name="Scripting"/>
        <ul>
            <li>Geoff Bunza provided sample scripts supporting bulk 
            <a href="http://jmri.org/jython/serialinput/Sensor_Channel_To_JMRI/Sensor_Channels_Readme.md">sensor channels</a>
            and
            <a href="http://jmri.org/jython/serialinput/Turnout_Channel_from_JMRI/Turnout_Channels_Readme.md">turnout channels</a>
            via USB between JMRI Sensor and Turnout Tables and Arduino interfaces to hardware.
            For more information, see the Readme files linked in the previous sentence.
            <li>The handling of how throttles are released has changed.
                <br>
                Old syntax: <code>self.throttle.release()</code> <br>
                New syntax assuming no throttle listeners in script: <code>self.throttle.release(None)</code><br>
                <strong>Custom scripts that release throttles may need to be modified.</strong><br>
                <ul>
                    <li>AutoDispatcher2</li>
                    <li>RobotThrottle2</li>
                    <li>RobotThrottle3</li>
                    <li>RocoCrane</li>
                    <li>Zimo Programmers</li>
                </ul>
            <strong>2 lines in scripts that use the
            <a href="https://github.com/JMRI/JMRI/blob/master/jython/Jynstruments/ThrottleWindowToolBar/DCCThrottle.jyn/DCCThrottle.py"
            >DCCThrottle.py</a> Jynstrument may need to be added,</strong><br>
            Insert after line 141<br>
            New line 142 : <code>def notifyDecisionRequired(LocoAddress, decision):</code><br>
            New line 143 : <code>pass #</code><br>
            These changes were made to enhance the JMRI Steal / Share mechanism for hardware types that support this.<br>
            </li>
        </ul>

    <h3>Signals</h3>
        <a id="Signals" name="Signals"/>
        <h4>Signal Systems</h4>
            <ul>
                <li>Petr Šídlo updated the Czechoslovak state railway Elektrosignal Praga (CSD ESP) definition</li>
                <li>Dick Bronson corrected a bad link to an image in the PRR-1956 definition</li>
            </ul>
        <h4>Signal Heads</h4>
            <ul>
                <li>Fix an XML validation problem when reading files with RGB heads</li>
            </ul>
        <h4>Signal Masts</h4>
            <ul>
                <li>Better messages when a Turnout Signal Mast encounters errors
                    due to part of its configuration not completed.</li>
                <li>Better reporting of issues when Signal Mast Logic encounters
                    a problem with a Signal Mast</li>
                <li>Output Matrix Signal Masts now allow to set a mast-specific delay interval between the individual
                commands sent to the connected Turnout outputs.</li>
                <li>A bug was fixed that wrote the wrong mast system name as Comment in the Turnout outputs.</li>
            </ul>
	    <h4>USS CTC Logic</h4>
            <ul>
                <li>Updated how lock information is
                    stored in the 'logging memory'
                    so that it can be displayed e.g.
                    on a panel.  For more info,
                    see the
                    <a href="/help/en/html/tools/uss/index.shtml">help page</a></li>
            </ul>

    <h3>Timetable</h3>
        <a id="Timetable" name="Timetable"/>
        <ul>
            <li>Dave Sand made multiple updates to the Timetable support</li>
	    <li>Added the ability to print a train graph.  An item has been
	    added to the Timetable menu to print the graph using two pages.</li>
            <li>New menu item: <strong>Export CSV File</strong> &mdash; Create a
            CSV file that can be imported into a spreadsheet program.  This can
            be used to create a traditional timetable.</li>
            <li>New menu item: <strong>Import CSV File</strong> &mdash; Import a
            CSV file that contains external timetable data to create a new
            layout defintion or extend an existing layout definition.</li>
        </ul>

   <h3>Virtual Sound Decoder</h3>
        <a id="VSD" name="VSD"/>
        <ul>
            <li>Klaus Killinger added "headless" mode, i.e. running VSD without a graphical user interface.
	            See the <a href="http://jmri.org/help/en/manual/DecoderPro/VSD_Headless.shtml">documentation</a> for details.</li>
            <li>Klaus Killinger added functionality to handle a throttle direction change at speed &gt; 0:
                slow down to 0, change the direction, ramp-up to the old speed.</li>
            <li>The engine sound will continue after an Emergency Stop.</li>
        </ul>

   <h3>Warrants</h3>
        <a id="Wt" name="Wt"/>
        <ul>
            <li>Pete Cressman updated how Warrants interact</li>
            <li>Down ramps used by NXWarrants and are also used when speed changes required by signals, occupancy 
            	conditions or user interventions occur. The throttle settings generated for down ramps have been modified. 
            	The throttle setting is increased by 10% at each time interval. Also, the last throttle interval now is always the throttle
            	interval as specified in Warrant Preferences. Accuracy of the position where the train stops should be improved.
            </li>
            <li>A bug where looped routes ending at an adjacent block could be missed by the Find Route algorithm has been fixed.
            </li>
            <li>A stop button to halt execution of the Find Route Operation has been added.
            </li>
            <li>The dynamic recording of speeds during sessions has been extended. A weighted average of the speed over a block is recorded to
            	the session speed profile.  These speeds may be edited and merger into the Roster SpeedProfile according to the settings
            	selected in WarrantPreferences. 
            </li>
            <li>A bug where a Halt at zero speed would not restart has been fixed. Scripts now resume at any command where the user does a Halt.
            </li>
            <li>The "Run Warrant" command linking warrants now executes for all cases.
            </li>
            <li>A bug when dragging an unnamed Portal icon in CircuitBuilder might cause a freeze has been fixed.
            </li>
            <li>Deleting an OBlock will also delete all other elements (Portals and Paths using the block). Previously when saved after such editing, 
			    any warrants referencing the deleted block would re-register the OBlock when the panel was re-loaded. Now such warrants are loaded, but 
		        will indicate that editing is needed to establish a correct route for them.  
            </li>
            <li>A checkBox to suppress the generation of sound commands has been added to the create NXWarrant window.
            </li>
            <li>TextFields have been added to the create NXWarrant window so ramp parameters can be modified.
            </li>
            <li>Missing help pages have been added to the sidebar index.
            </li>
            <li>Circuit Builder has more error help and ease of use features. The help page is updated.</li>
            <li>40 scale feet has been added to the ramp down distance.</li> 
        </ul>

   <h3>Web Access</h3>
        <a id="WA" name="WA"/>
        <ul>
            <li>Multiple updates to the JSON service:
                <ul>
                <li>JSON clients can now add, edit, or remove Blocks, IdTags, LayoutBlocks, Operations Locations, Operations Cars,
                    Operations Engines, Operations Tracks, Reporters, and Sensors.</li>
                <li>JSON clients using WebSockets can now include an <code>id</code> property in the message to match a direct response
                    to a message to the original message.</li>
                <li>The JSON protocol version has been bumped to version 5.0 due to backwards incompatible
                    changes to make different JSON objects more internally consistent and to accomodate the ability to remove some
                    objects. See the <a href="http://jmri.org/JavaDoc/doc/jmri/server/json/package-summary.html#history">JSON Version
                        History</a> for more details.</li>
                <li>JSON schema are, with the exception of consists, usable, even when JMRI is running on a computer not connected to
                    the internet. See the <a href="http://jmri.org/JavaDoc/doc/jmri/server/json/package-summary.html#schema">JSON
                        Schema</a> for more details.</li>
                </ul>
            </li>
        </ul>

    <h3>Miscellaneous</h3>
        <a id="Misc" name="Misc"/>
        <ul>
            <li>Fixed a compatibility problem when reading files containing timebase information</li>
            <li>We're building the release note a
                <a href="/help/en/html/doc/Technical/gitdeveloper.shtml">different way</a>
                starting with this release.</li>
            <li>All the PackageList test files were updated to JUnit4 form, without a separate main()</li>
            <li>The Windows "installer" and "launcher" have been updated to support 
                Oracle's Java JDK 11 installation mechanisms on Windows platforms.</li>
            <li>Starting with this release, 
                <a href="http://jmri.org/help/en/html/setup/MigrateSystemPrefixes.shtml">legacy system prefixes</a>
                will cause JMRI to issues a warning at startup.  This warning can't be suppressed
                without migrating the prefix in the connection configuration (and any associated
                panel files and scripts).
                For help with that, see the 
                <a href="http://jmri.org/help/en/html/setup/MigrateSystemPrefixes.shtml">migration page</a>.</li>
            <li>Fix bug with launcher on Windows introduced when adding JDK 11 support in 4.15.3. This caused JMRI to not launch on certain 64-bit Windows systems that had only a 32-bit Java installation.</li>
            <li>Fixed occasional problem where an item in the Turnout, Sensor, Memory or Light table couldn't be deleted.
            <li>JSON protocol documentation updated. (<a href="https://github.com/JMRI/JMRI/pull/6777">#6777</a>)</li>
            <li>JSON services no longer automatically listen for changes to objects provided to a client unless the client explicitly requests the object. (<a href="https://github.com/JMRI/JMRI/pull/6777">#6777</a>)</li>
            <li>NamedBeans now allow property change listeners to listen only to specified properties. (<a href="https://github.com/JMRI/JMRI/pull/6777">#6777</a>)</li>
            <li>Add new <code>TestWaitsForever</code> test class to allow end-of-job debug.</li>
            <li>The <code>jmri.util.ColorUtil.stringToColor()</code> method now throws an
                <code>IllegalArgumentException</code> if unable to turn a String into a Color instead of returning the Color Black.
            </li>
            <li>The Help Index and Table Of Contents were updated and expanded to include the current Hardware
                systems.
                In the process we discovered that additional instructions for many of the new tools are welcome.
            </li>
        </ul>

   <!--#include virtual="/Footer.shtml" -->
  </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody-->
 <script src="/js/main.js"></script>
</body>
</html>
