<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>
<!-- Copyright (C) JMRI 2016 All rights reserved -->
<!--                                                                        -->
<!-- JMRI is free software; you can redistribute it and/or modify it under  -->
<!-- the terms of version 2 of the GNU General Public License as published  -->
<!-- by the Free Software Foundation. See the "COPYING" file for a copy     -->
<!-- of this license.                                                       -->
<!--                                                                        -->
<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT    -->
<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or  -->
<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License  -->
<!-- for more details.                                                      -->
<decoder-config xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://jmri.org/xml/schema/decoder-4-15-2.xsd">
    <copyright xmlns="http://docbook.org/ns/docbook">
        <year>2016</year>
        <holder>JMRI</holder>
    </copyright>
    <authorgroup xmlns="http://docbook.org/ns/docbook">
        <author>
            <personname>
                <firstname>Michael</firstname>
                <surname>Mosher</surname>
            </personname>
        </author>
        <author>
            <personname>
                <firstname>Alain</firstname>
                <surname>Le Marchand</surname>
            </personname>
        </author>
		<author>
            <personname>
                <firstname>Marc</firstname>
                <surname>Fournier</surname>
            </personname>
        </author>
        <author>
            <personname>
                <firstname>Dave</firstname>
                <surname>Heap</surname>
            </personname>
        </author>
        <author>
            <personname>
                <firstname>James</firstname>
                <surname>Exler</surname>
            </personname>
        </author>
    </authorgroup>
    <revhistory xmlns="http://docbook.org/ns/docbook">
        <revision>
            <revnumber>1</revnumber>
            <date>2016-05-29</date>
            <authorinitials>MM</authorinitials>
            <revremark>New file, based on ECO Diesel file + (ALM) Factoring and minor adjustments</revremark>
        </revision>
        <revision>
            <revnumber>1.1</revnumber>
            <date>2016-06-04</date>
            <authorinitials>ALM</authorinitials>
            <revremark>Add Tsunami2 Reset values</revremark>
        </revision>
        <revision>
            <revnumber>2</revnumber>
            <date>2016-06-20</date>
            <authorinitials>MM</authorinitials>
            <revremark>Added TSU-2200 and TSU-PNP models</revremark>
        </revision>
        <revision>
            <revnumber>2.1</revnumber>
            <date>2016-07-09</date>
            <authorinitials>MM</authorinitials>
            <revremark>Fixed sound selection for TSU-2200 and TSU-PNP models</revremark>
        </revision>
        <revision>
            <revnumber>2.2</revnumber>
            <date>2016-08-09</date>
            <authorinitials>MM</authorinitials>
            <revremark>Added forth compressor type to Baldwin, user reported to exist thou not in Soundtraxx doc's</revremark>
        </revision>
        <revision>
            <revnumber>3</revnumber>
            <date>2016-08-30</date>
            <authorinitials>MM</authorinitials>
            <revremark>Added TSU-21PNEM models</revremark>
        </revision>
        <revision>
            <revnumber>4</revnumber>
            <date>2016-10-21</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Add ID CV 253,254,255,256 and change product ID to values in CV256</revremark>
        </revision>
        <revision>
            <revnumber>4.1</revnumber>
            <date>2016-12-21</date>
            <authorinitials>DGH</authorinitials>
            <revremark>Change product ID to values in CVs 253(high byte) and 256(low byte)</revremark>
        </revision>
        <revision>
            <revnumber>4.2</revnumber>
            <date>2017-03-17</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Fix function button names</revremark>
        </revision>
        <revision>
            <revnumber>5</revnumber>
            <date>2017-07-13</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Added TSU-4400 model</revremark>
        </revision>
        <revision>
            <revnumber>6</revnumber>
            <date>2017-09-18</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Added Poppet Valves select and more PM to Baldwin and other decoders</revremark>
        </revision>
        <revision>
            <revnumber>7</revnumber>
            <date>2017-11-21</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Added GEVO G12 Tier 4 to GE Diesels and fix bug in poppet value cv</revremark>
        </revision>
        <revision>
            <revnumber>8</revnumber>
            <date>2018-01-05</date>
            <authorinitials>ALM</authorinitials>
            <revremark>Separate ECO CVs file for Extended Function Map. Add labels to Extended Function map CVs.</revremark>
        </revision>
        <revision>
            <revnumber>9</revnumber>
            <date>2018-02-17</date>
            <authorinitials>ALM</authorinitials>
            <revremark>New CVs for SW version 1.2. (Diesel Tech Ref.D):
                       CV112,136,141,142,168,173,174,223,314,442,2.296,2.301-302,3.270-273.
                       Added CV123 selection for TSU-4400</revremark>
        </revision>
        <revision>
            <revnumber>10</revnumber>
            <date>2018-08-14</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Added EMD 2 decoders</revremark>
        </revision>
        <revision>
            <revnumber>11</revnumber>
            <date>2020-07-27</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Added PNP8 and 21PNEM8 decoders</revremark>
        </revision>
        <revision>
            <revnumber>12</revnumber>
            <date>2020-09-17</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Fix sound select for PNP8 and 21PNEM8 decoders</revremark>
        </revision>
	    <revision>
            <revnumber>13</revnumber>
            <date>2021-03-05</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Fix sound select for PNP8 and 21PNEM8 decoders</revremark>
        </revision>
        <revision>
            <revnumber>14</revnumber>
            <date>2021-03-19</date>
            <authorinitials>MFO</authorinitials>
            <revremark>Added TSU-KN1 decoder</revremark>
         </revision>
		<revision>
            <revnumber>15</revnumber>
            <date>2021-06-28</date>
            <authorinitials>DH</authorinitials>
            <revremark>Correct Handling of PI (CV31) and SI (CV32)</revremark>
        </revision>
        <revision>
            <revnumber>16</revnumber>
            <date>2021-07-01</date>
            <authorinitials>MJM</authorinitials>
            <revremark>Added TSU-BN1 and N18  decoders</revremark>
        </revision>
        <revision>
            <revnumber>17</revnumber>
            <date>2022-07-22</date>
            <authorinitials>JE</authorinitials>
            <revremark>Rev per TSU2 Manual, chg pane to TSU2</revremark>
        </revision>
        <revision>
            <revnumber>18</revnumber>
            <date>2022-12-01</date>
            <authorinitials>MM</authorinitials>
            <revremark>Split vars to include file to reuse with Blunami</revremark>
        </revision>
    </revhistory>
    <!-- Decoder Model information follows -->
    <decoder>
        <family name="Tsunami2 Diesel" mfg="SoundTraxx (Throttle-Up)" lowVersionID="71" comment="These are the -retail- version Tsunami 2 Diesel decoders">
            <model model="TSU-1100 EMD Diesels" numOuts="4" numFns="30" maxMotorCurrent="1A" connector="other" productID="276" comment="Model 885001">
                <size length="27" width="10.5" height="5" units="mm"/>
            </model>
            <model model="TSU-1100 EMD-2 Diesels" numOuts="4" numFns="30" maxMotorCurrent="1A" connector="other" productID="310" comment="Model 885021">
                <size length="27" width="10.5" height="5" units="mm"/>
            </model>
            <model model="TSU-1100 GE Diesels" numOuts="4" numFns="30" maxMotorCurrent="1A" connector="other" productID="277" comment="Model 885002">
                <size length="27" width="10.5" height="5" units="mm"/>
            </model>
            <model model="TSU-1100 Alco Diesels" numOuts="4" numFns="30" maxMotorCurrent="1A" connector="other" productID="278" comment="Model 885003">
                <size length="27" width="10.5" height="5" units="mm"/>
            </model>
            <model model="TSU-1100 Baldwin Diesels" numOuts="4" numFns="30" maxMotorCurrent="1A" connector="other" productID="279" comment="Model 885004">
                <size length="27" width="10.5" height="5" units="mm"/>
            </model>
            <model model="TSU-2200 EMD Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="9pin" productID="280" comment="Model 885005">
                <size length="35" width="18" height="6" units="mm"/>
            </model>
            <model model="TSU-2200 EMD-2 Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="9pin" productID="311" comment="Model 885022">
                <size length="35" width="18" height="6" units="mm"/>
            </model>
            <model model="TSU-2200 GE Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="9pin" productID="281" comment="Model 885006">
                <size length="35" width="18" height="6" units="mm"/>
            </model>
            <model model="TSU-2200 Alco Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="9pin" productID="282" comment="Model 885007">
                <size length="35" width="18" height="6" units="mm"/>
            </model>
            <model model="TSU-2200 Baldwin Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="9pin" productID="283" comment="Model 885008">
                <size length="35" width="18" height="6" units="mm"/>
            </model>
            <model model="TSU-21PNEM EMD Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="284" comment="Model 885009">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM EMD-2 Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="312" comment="Model 885023">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM GE Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="285" comment="Model 885010">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM Alco Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="286" comment="Model 885011">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM Baldwin Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="287" comment="Model 885012">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM8 EMD Diesels" numOuts="8" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="325" comment="Model 885809">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM8 EMD-2 Diesels" numOuts="8" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="329" comment="Model 885823">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM8 GE Diesels" numOuts="8" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="326" comment="Model 885810">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM8 Alco Diesels" numOuts="8" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="327" comment="Model 885811">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-21PNEM8 Baldwin Diesels" numOuts="8" numFns="30" maxMotorCurrent="1A" connector="21MTC" productID="328" comment="Model 885812">
                <size length="30.5" width="15.5" height="6.5" units="mm"/>
            </model>
            <model model="TSU-4400 EMD Diesels" numOuts="6" numFns="30" maxMotorCurrent="4A" connector="other" productID="292" comment="Model 885017">
                <size length="69" width="30.5" height="14" units="mm"/>
            </model>
            <model model="TSU-4400 EMD-2 Diesels" numOuts="6" numFns="30" maxMotorCurrent="4A" connector="other" productID="314" comment="Model 885025">
                <size length="69" width="30.5" height="14" units="mm"/>
            </model>
            <model model="TSU-4400 GE Diesels" numOuts="6" numFns="30" maxMotorCurrent="4A" connector="other" productID="293" comment="Model 885018">
                <size length="69" width="30.5" height="14" units="mm"/>
            </model>
            <model model="TSU-4400 Alco Diesels" numOuts="6" numFns="30" maxMotorCurrent="4A" connector="other" productID="294" comment="Model 885019">
                <size length="69" width="30.5" height="14" units="mm"/>
            </model>
            <model model="TSU-4400 Baldwin Diesels" numOuts="6" numFns="30" maxMotorCurrent="4A" connector="other" productID="295" comment="Model 885020">
                <size length="69" width="30.5" height="14" units="mm"/>
            </model>
            <model model="TSU-BH1 EMD Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="343" comment="Model 885840">
                <size length="97" width="16" height="7.7" units="mm"/>
            </model>
            <model model="TSU-BH1 GE Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="344" comment="Model 885841">
                <size length="97" width="16" height="7.7" units="mm"/>
            </model>
            <model model="TSU-BH1 Alco Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="345" comment="Model 885842">
                <size length="97" width="16" height="7.7" units="mm"/>
            </model>
            <model model="TSU-KN1 Diesels" numOuts="4" numFns="30" maxMotorCurrent="500mA" connector="DropIn" productID="331" comment="Model 885032">
                <size length="55" width="13.8" height="3.2" units="mm"/>
            </model>
            <model model="TSU-N18 EMD Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="Next18" productID="333" comment="Model 885026">
                <size length="25" width="10.5" height="4.1" units="mm"/>
            </model>
            <model model="TSU-N18 EMD-2 Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="Next18" productID="337" comment="Model 885030">
                <size length="25" width="10.5" height="4.1" units="mm"/>
            </model>
            <model model="TSU-N18 GE Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="Next18" productID="334" comment="Model 885027">
                <size length="25" width="10.5" height="4.1" units="mm"/>
            </model>
            <model model="TSU-N18 Alco Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="Next18" productID="335" comment="Model 885028">
                <size length="25" width="10.5" height="4.1" units="mm"/>
            </model>
            <model model="TSU-N18 Baldwin Diesels" numOuts="6" numFns="30" maxMotorCurrent="1A" connector="Next18" productID="336" comment="Model 885029">
                <size length="25" width="10.5" height="4.1" units="mm"/>
            </model>
            <model model="TSU-PNP EMD Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="288" comment="Model 885013">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP EMD-2 Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="313" comment="Model 885024">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP GE Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="289" comment="Model 885014">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP Alco Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="290" comment="Model 885015">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP Baldwin Diesels" numOuts="6" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="291" comment="Model 885016">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP8 EMD Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="319" comment="Model 885813">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP8 EMD-2 Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="323" comment="Model 885824">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP8 GE Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="320" comment="Model 885814">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP8 Alco Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="321" comment="Model 885815">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <model model="TSU-PNP8 Baldwin Diesels" numOuts="8" numFns="30" maxMotorCurrent="2A" connector="DropIn" productID="322" comment="Model 885816">
                <size length="74" width="17" height="5" units="mm"/>
            </model>
            <output name="3" label="  FX3  "/>
            <output name="4" label="  FX4  "/>
            <output name="5" label="Airhorn| ">
                <label xml:lang="it">Tromba| </label>
            </output>
            <output name="6" label="Bell| ">
                <label xml:lang="it">Campana| </label>
            </output>
            <output name="7" label="Dynamic|Brakes">
                <label xml:lang="it">Freni|Dinamici</label>
            </output>
            <output name="8" label="Short|Horn">
                <label xml:lang="it">Breve|Tromba</label>
            </output>
            <output name="9" label="Straight|to 8"/>
            <output name="10" label="General|Service"/>
            <output name="11" label="Dimming| ">
                <label xml:lang="it">Smorzam| </label>
            </output>
            <output name="12" label="Mute| ">
                <label xml:lang="it">Silenzio| </label>
            </output>
            <output name="13" label="HEP|Mode"/>
            <output name="14" label="Ind/Train|Brake"/>
            <output name="15" label="Coupler| ">
                <label xml:lang="it">Accoppiatore| </label>
            </output>
            <functionlabels>
                <functionlabel num="0" lockable="true">Headlight</functionlabel>
                <functionlabel num="1" lockable="true">Bell</functionlabel>
                <functionlabel num="2" lockable="false">Horn</functionlabel>
                <functionlabel num="3" lockable="true">Short Horn</functionlabel>
                <functionlabel num="4" lockable="true">Dynamic Brake</functionlabel>
                <functionlabel num="5" lockable="true">RPM+</functionlabel>
                <functionlabel num="6" lockable="true">RPM-</functionlabel>
                <functionlabel num="7" lockable="true">Dimmer</functionlabel>
                <functionlabel num="8" lockable="true">Mute</functionlabel>
                <functionlabel num="9" lockable="true">Xing Signal</functionlabel>
                <functionlabel num="10" lockable="true">Straight to Eight</functionlabel>
                <functionlabel num="11" lockable="true">Ind/Train Brake</functionlabel>
                <functionlabel num="12" lockable="true">Brake Select</functionlabel>
                <functionlabel num="13" lockable="true">Coupler</functionlabel>
                <functionlabel num="14" lockable="true">Half Speed</functionlabel>
                <functionlabel num="15" lockable="true">Handbrake</functionlabel>
                <functionlabel num="16" lockable="true">HEP Mode</functionlabel>
                <functionlabel num="17" lockable="true">Fuel Loading</functionlabel>
                <functionlabel num="18" lockable="true">General Service</functionlabel>
                <functionlabel num="20" lockable="true">Steam Generator</functionlabel>
                <functionlabel num="21" lockable="true">Sander Valve</functionlabel>
                <functionlabel num="22" lockable="true">Cab Chatter</functionlabel>
                <functionlabel num="23" lockable="true">All Aboard</functionlabel>
                <functionlabel num="24" lockable="true">FX3 Output</functionlabel>
                <functionlabel num="25" lockable="true">FX4 Output</functionlabel>
                <functionlabel num="26" lockable="true">FX5 Output</functionlabel>
                <functionlabel num="27" lockable="true">FX6 Output</functionlabel>
                <functionlabel num="28" lockable="true">FX7,8 Output</functionlabel>
                </functionlabels>
        </family>
        <programming direct="yes" paged="yes" register="yes" ops="yes">
            <capability>
                <name>Indexed CV access</name>
                <parameter name="PI">31</parameter>
                <parameter name="SI">32</parameter>
                <parameter name="cvFirst">false</parameter>
            </capability>
        </programming>
        <!-- Configuration Variable (CV) information follows -->
        <variables>
            <xi:include href="http://jmri.org/xml/decoders/soundtraxx/SoundTraxx_Blu_Tsu2_Diesel_cv.xml"/>
        </variables>
        <resets>
            <factReset label="Reset all CVs to factory defaults" CV="8" default="8"/>
            <factReset label="Reset CVs 1-128 to factory defaults" CV="8" default="9"/>
            <factReset label="Reset CVs 129-256 to factory defaults" CV="8" default="10"/>
            <factReset label="Reset CVs 1.257-1.512 to factory defaults" CV="8" default="11"/>
            <factReset label="Reset CVs 2.257-2.512 to factory defaults" CV="8" default="12"/>
            <factReset label="Reset CVs 3.257-3.512 to factory defaults" CV="8" default="13"/>
        </resets>
    </decoder>
    <!-- References to external Pane format definitions below -->
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/TSUaltSoundLevelsPane.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/TSU2PaneLighting.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/TSUPaneEqualizer.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/TSUPaneDDE.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/TSUPaneReverb.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/TSU2PaneASCdiesel.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/ECOPaneFnMap.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/ECOlegacyPaneFnMap.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/soundtraxx/ECOPaneID.xml"/>
</decoder-config>
