<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>
<!-- Copyright (C) JMRI 2019 All rights reserved -->
<!--                                                                        -->
<!-- JMRI is free software; you can redistribute it and/or modify it under  -->
<!-- the terms of version 2 of the GNU General Public License as published  -->
<!-- by the Free Software Foundation. See the "COPYING" file for a copy     -->
<!-- of this license.                                                       -->
<!--                                                                        -->
<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT    -->
<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or  -->
<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License  -->
<!-- for more details.                                                      -->
<decoder-config xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://jmri.org/xml/schema/decoder.xsd">
    <version author="Egbert Broerse" version="1" lastUpdated="20190215"/>
    <!-- Version 1 - For new 2017-18 decoders. Copied and adapted from Uhlenbrock_76560.xml -->
    <!-- WARNING: output names fully linked to function mapping include file - do not change independently -->
    <decoder>
        <family name="IntelliDrive2" mfg="Uhlenbrock Elektronik" comment="Decoders not sorted (necessarily) in numerical order"><!-- to be checked by hardware owner -->
            <model model="73105" numOuts="4" numFns="14" maxMotorCurrent="0.8A" formFactor="N" connector="Next18" productID="73105" comment="IntelliDrive2 Mini-Lokdecoder and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="3" label=". A1 ." connection="plug" maxcurrent="400 mA"/>
                <output name="4" label=". A2 ." connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="14.7" width="8.6" height="2.9" units="mm"/>
            </model>
            <model model="73115" numOuts="2" numFns="14" maxMotorCurrent="0.8A" formFactor="HO" connector="NEM651" productID="73115" comment="IntelliDrive2 Mini-Lokdecoder and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="9.5" width="7.8" height="2.4" units="mm"/>
            </model>
            <model model="73145" numOuts="4" numFns="14" maxMotorCurrent="0.8A" formFactor="HO" connector="PluX12" productID="73145" comment="IntelliDrive2 Mini-Lokdecoder and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="3" label=". A1 ." connection="plug" maxcurrent="400 mA"/>
                <output name="4" label=". A2 ." connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="15" width="8.6" height="3.2" units="mm"/>
            </model>
            <model model="73235" numOuts="10" numFns="14" maxMotorCurrent="1.2A" formFactor="HO" connector="Next18" productID="73235" comment="IntelliDrive2 Lokdecoder and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="3" label=". A1 ." connection="plug" maxcurrent="400 mA"/>
                <output name="4" label=". A2 ." connection="plug" maxcurrent="400 mA"/>
                <output name="5" label=". A3 ." connection="plug" maxcurrent="400 mA"/>
                <output name="6" label=". A4 ." connection="plug" maxcurrent="400 mA"/>
                <output name="7" label=". A5 ." connection="plug" maxcurrent="400 mA"/>
                <output name="8" label=". A6 ." connection="plug" maxcurrent="400 mA"/>
                <output name="9" label=". A7 ." connection="plug" maxcurrent="400 mA"/>
                <output name="10" label=". A8 ." connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="30.2" width="16" height="3.8" units="mm"/>
            </model>
            <model model="73405" numOuts="4" numFns="14" maxMotorCurrent="0.7A" formFactor="N" connector="Wires" productID="73405" comment="IntelliDrive2 Mini-Lokdecoder and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="3" label=". A1 ." connection="plug" maxcurrent="400 mA"/>
                <output name="4" label=". A2 ." connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="9.5" width="7.8" height="2.4" units="mm"/>
            </model>
            <model model="73415" numOuts="4" numFns="14" maxMotorCurrent="0.7A" formFactor="N" connector="NEM651" productID="73415" comment="IntelliDrive2 Mini-Lokdecoder and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="3" label=". A1 ." connection="plug" maxcurrent="400 mA"/>
                <output name="4" label=". A2 ." connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="9.5" width="7.8" height="2.4" units="mm"/>
            </model>
            <model model="PIKO41RH2400" numOuts="10" numFns="14" maxMotorCurrent="1.2A" formFactor="N" connector="Next18" productID="PIKO41RH2400" comment="Piko SmartDecoder 4.1 Sound Dieselloco Rh2400 Next18 plug and RailCom(R) (Plus)">
                <output name="1" label="F0(f)" connection="plug" maxcurrent="400 mA"/>
                <output name="2" label="F0(r)" connection="plug" maxcurrent="400 mA"/>
                <output name="3" label=". A1 ." connection="plug" maxcurrent="400 mA"/>
                <output name="4" label=". A2 ." connection="plug" maxcurrent="400 mA"/>
                <output name="5" label=". A3 ." connection="plug" maxcurrent="400 mA"/>
                <output name="6" label=". A4 ." connection="plug" maxcurrent="400 mA"/>
                <output name="7" label=". A5 ." connection="plug" maxcurrent="400 mA"/>
                <output name="8" label=". A6 ." connection="plug" maxcurrent="400 mA"/>
                <output name="9" label=". A7 ." connection="plug" maxcurrent="400 mA"/>
                <output name="10" label=". A8 ." connection="plug" maxcurrent="400 mA"/>
                <output name="Shunting" label="mode"/>
                <output name="Start/brake" label="inertia"/>
                <size length="30.2" width="16" height="3.8" units="mm"/>
            </model>
        </family>
        <programming direct="yes" paged="yes" register="yes" ops="yes">
            <capability>
                <name>Indexed CV access</name>
                <parameter name="PI">1021</parameter> <!--for audio on SUSI, add CV for Banks?-->
                <parameter name="SI">0</parameter> <!-- Not used, but need to be declared for cvFirst to be read -->
                <parameter name="cvFirst">true</parameter>
            </capability>
        </programming>
        <variables>
            <xi:include href="http://jmri.org/xml/decoders/nmra/shortAndLongAddress.xml"/><!-- CV1, 17, 18 -->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/vStartHighMid-accelDecel.xml"/><!-- CV2-6 -->
            <variable item="Decoder Version" CV="7" readOnly="yes" default="39">
                <decVal/>
                <label>Manufacturer Version No: </label>
                <label xml:lang="it">Versione Decoder: </label>
                <label xml:lang="fr">Version décodeur: </label>
                <label xml:lang="de">Decoder Version: </label>
                <label xml:lang="nl">Versie van decoder: </label>
            </variable>
            <variable item="Manufacturer" CV="8" readOnly="yes" default="85"><!-- Uhlenbrock -->
                <decVal/>
                <defaultItem default="162" include="PIKO41RH2400"/><!-- Piko -->
                <label>Manufacturer ID: </label>
                <label xml:lang="it">ID Costruttore: </label>
                <label xml:lang="fr">ID constructeur: </label>
                <label xml:lang="de">Hersteller ID: </label>
                <label xml:lang="nl">Fabrikant-ID: </label>
            </variable>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv12dataformat2.xml"/>
            <variable item="Selectrix Operation" CV="12" default="1" mask="XXXVXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
                <label>Selectrix Mode</label>
                <label xml:lang="de">Selectrix Datenformat</label>
            </variable>
            <variable item="Mfx Operation" CV="12" default="1" mask="XXVXXXXX" include="PIKO41RH2400">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
                <label>Mfx Mode</label>
                <label xml:lang="de">Mfx Datenformat</label>
            </variable>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv13analogfunction41.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv14analogfunction41.xml"/>
            <variable CV="15" item="Decoder Lock ID" default="0" tooltip="Set this to match value below and decoder will unlock">
                <decVal/>
                <label>Decoder Lock ID</label>
                <label xml:lang="de">Decoder Lock</label>
                <label xml:lang="ca">Bloqueig decoder per ID</label>
                <tooltip xml:lang="de">Setzen Sie diesen Wert auf den unten stehenden Wert und der Decoder wird entsperrt</tooltip>
            </variable>
            <variable CV="16" item="Decoder Lock Index" default="0" tooltip="Set this to decoder type: 1=motor, 2=sound, 3=function etc.">
                <decVal/>
                <label>Preset Lock ID</label>
                <label xml:lang="de">Decoder-Typ Lock</label>
                <label xml:lang="ca">ID locomotora per tipus</label>
                <tooltip xml:lang="de">Setzen Sie diesen Wert auf Decoder-Typ: 1 = Motor, 2 = Sound, 3 = Funktion etc.</tooltip>
            </variable>
            <!-- CV 17-18 already in place with CV 1-->
            <!-- CV19 Consisting Information -->
            <xi:include href="http://jmri.org/xml/decoders/nmra/consistAddrDirection.xml"/>
            <variable item="ABC stop with asymmetrical DCC" CV="27" mask="XXXXXXVV">
                <enumVal>
                    <enumChoice choice="Does Not Stop">
                        <choice>Inactive</choice>
                        <choice xml:lang="it">Non si ferma</choice>
                        <choice xml:lang="cs">Nezastavuje</choice>
                        <choice xml:lang="de">Kein Bremsen</choice>
                    </enumChoice>
                    <enumChoice choice="When Right rail is higher voltage">
                        <choice>When Right rail is higher voltage</choice>
                        <choice xml:lang="it">Si ferma se rotaia destra ha tensione più alta</choice>
                        <choice xml:lang="cs">Zastaví když pravá kolejnice má vyšší napětí</choice>
                        <choice xml:lang="de">Wenn rechte Schienenspannung höher</choice>
                    </enumChoice>
                    <enumChoice choice="When Left rail is higher voltage">
                        <choice>When Left rail is higher voltage</choice>
                        <choice xml:lang="it">Si ferma se rotaia sinistra ha tensione più alta</choice>
                        <choice xml:lang="cs">Zastaví když levá kolejnice má vyšší napětí</choice>
                        <choice xml:lang="de">Wenn linke Schienenspannung höher</choice>
                    </enumChoice>
                    <enumChoice choice="Stops in Both Directions">
                        <choice>In Either Direction</choice>
                        <choice xml:lang="it">Si ferma in entrambe le direzioni</choice>
                        <choice xml:lang="cs">Zastaví v obou směrech</choice>
                        <choice xml:lang="de">In entweder Richtung</choice>
                    </enumChoice>
                </enumVal>
                <label>ABC Braking Setup</label>
                <label xml:lang="de">ABC Bremseinstellung</label>
                <tooltip>Brake on asymmetrical DCC detect</tooltip>
                <tooltip xml:lang="de">Bremskonfiguration mittels asymmetrischer DCC-Digitalspannung</tooltip>
            </variable>
            <!-- CV 27 bit 4-5 Märklin DC Braking -->
            <variable item="Marklin Brake Mode" CV="27" mask="XXVVXXXX">
                <enumVal>
                    <enumChoice choice="Does Not Stop">
                        <choice>Inactive</choice>
                        <choice xml:lang="it">Non si ferma</choice>
                        <choice xml:lang="cs">Nezastavuje</choice>
                        <choice xml:lang="de">Kein Bremsen</choice>
                    </enumChoice>
                    <enumChoice choice="Stops on DC">
                        <choice>Polarity against direction</choice>
                        <choice xml:lang="de">Wenn Polarität entgegen der Fahrtrichtung</choice>
                    </enumChoice>
                    <enumChoice choice="Stops on opposite DC">
                        <choice>Polarity in same direction</choice>
                        <choice xml:lang="de">Wenn Polarität mit der Fahrtrichtung</choice>
                    </enumChoice>
                    <enumChoice choice="Stops in Both Directions">
                        <choice>In Either Direction</choice>
                        <choice xml:lang="de">In entweder Richtung</choice>
                    </enumChoice>
                </enumVal>
                <label>Märklin Brake mode</label>
                <label xml:lang="de">Märklin Bremsmodus</label>
                <tooltip>Brake on analog DC detect</tooltip>
                <tooltip xml:lang="de">Bremsen mit analoge DC Gleichspannung</tooltip>
            </variable>
            <variable item="RailCom channel 1 (Broadcast)" CV="28" mask="XXXXXXXV">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>RailCom channel 1 (Broadcast)</label>
                <label xml:lang="it">RailCom canale 1 (Broadcast)</label>
                <label xml:lang="cs">RailCom kanál 1 (adresa)</label>
                <label xml:lang="de">RailCom Kanal 1 (Broadcast)</label>
            </variable>
            <variable item="RailCom channel 2 (Data)" CV="28" mask="XXXXXXVX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>RailCom channel 2 (Data)</label>
                <label xml:lang="it">RailCom canale 2 (Dati)</label>
                <label xml:lang="cs">RailCom kanál 2 (data)</label>
                <label xml:lang="de">RailCom Kanal 2 (Daten)</label>
            </variable>
            <variable item="RailCom Plus" CV="28" mask="VXXXXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>RailCom Plus®</label>
            </variable>
            <!-- CV29 -->
            <xi:include href="http://jmri.org/xml/decoders/nmra/cv29direction.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/nmra/cv29speedSteps.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv29analog.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/nmra/cv29RailCom.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/nmra/cv29table3-28.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/nmra/cv29address.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv30error.xml"/>
            <!-- CVs 31-32 Banks are on cv257.512extendedmap include -->
            <!-- CVs 33-46 function mapping -->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/functionmap7outputs.xml"/>
            <!--Motorola addresses - read only-->
            <variable item="Motorola 1" CV="47" readOnly="yes" default="12">
                <decVal/>
                <label>Motorola 1st Trinary Address</label>
                <label xml:lang="de">Motorola 1. trinäre adresse</label>
            </variable>
            <variable item="Motorola 2" CV="48" readOnly="yes">
                <decVal/>
                <label>Motorola 2nd Trinary Address</label>
                <label xml:lang="de">Motorola 2. trinäre adresse</label>
            </variable>
            <variable item="Motorola 3" CV="49" readOnly="yes">
                <decVal/>
                <label>Motorola 3rd Trinary Address</label>
                <label xml:lang="de">Motorola 3. trinäre adresse</label>
            </variable>
            <!-- CV50-51 decoder configuration -->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv50.51config.xml"/>
            <!-- CVs 53-58  Motor Control-->
            <variable item="EMF Option 1" CV="53" default="40">
                <decVal max="255"/>
                <label>Repetition rate</label>
                <label xml:lang="de">Wiederholrate der Motorregelung</label>
                <tooltip>Lower if the locomotive does not run smoothly - Value * 0.1 sec</tooltip>
                <tooltip xml:lang="de">verkleinern, wenn Lok ungleichmäßig läuft - Wert * 0.1 S</tooltip>
            </variable>
            <variable item="EMF Static Config" CV="54" default="100">
                <decVal max="255"/>
                <label>Motor regulation P Constant</label>
                <label xml:lang="de">Motorregelung P-Konstante</label>
            </variable>
            <variable item="EMF Dynamic Config" CV="55" default="40">
                <decVal max="255"/>
                <label>Motor regulation I Constant</label>
                <label xml:lang="de">Motorregelung I-Konstante</label>
            </variable>
            <variable item="EMF Droop Config" CV="56" default="32">
                <decVal max="255"/>
                <label>Motor regulation D Constant</label>
                <label xml:lang="de">Motorregelung D-Konstante</label>
            </variable>
            <variable item="EMF Option 3" CV="57" default="6">
                <decVal max="255"/>
                <label>Control Offset</label>
                <label xml:lang="de">Regeler Offset</label>
                <tooltip>Lower Value if top speed too low, Raise Value if Speed at Step 1 too fast</tooltip>
                <tooltip xml:lang="de">verkleinern, wenn Höchstgeschwindigkeit zu geringer - vergrößern, wenn geschwindigkeit Schritt 1 zu schnell</tooltip>
            </variable>
            <variable item="EMF Option 2" CV="58" default="8">
                <decVal max="255"/>
                <label>Time slot for AD measurement</label>
                <label xml:lang="de">Zeitschlitz für AD Wandlermessung</label>
                <tooltip>Increase if loc does not run smoothly at low speeds - Decrease if the top speed is too low after CV53 has been lowered</tooltip>
                <tooltip xml:lang="de">vergrößern, wenn Lok bei geringer Geschwindigkeit ungleichmäßig läuft; verkleinern, wenn bei heruntergesetztem CV 53 Höchstgeschwindigkeit der Lok zu gering ist</tooltip>
            </variable>
            <!--CV59 Reset incl at the bottom-->
            <variable item="Short circuit supervision" CV="60" readOnly="yes">
                <decVal max="9"/>
                <label>Motor and Function Output Short circuit supervision</label>
                <label xml:lang="de">Kurzschlussüberwachung Motor- und Funktionsausgänge</label>
                <label xml:lang="nl">Kortsluitbeveiliging Motor- und Functie-uitgangen</label>
                <tooltip>Do not change! 0=deactivated - 137=activated</tooltip>
            </variable>
            <variable item="Shutdown Temperature" CV="61" readOnly="yes">
                <decVal/>
                <label>Shutdown Temperature</label>
                <label xml:lang="de">Abschalttemperatur</label>
                <label xml:lang="nl">Uitschakeltemperatuur</label>
                <tooltip>in °C, different with each decoder</tooltip>
            </variable>
            <variable item="Function Outputs Short Constant" CV="62" readOnly="yes">
                <decVal/>
                <label>Function Outputs Short Constant</label>
                <label xml:lang="de">Kurzschlussüberwachung Fkt.-Ausgänge</label>
                <label xml:lang="nl">Kortsluitbeveiliging functieuitgangen</label>
            </variable>
            <variable item="Motor Output Short Constant" CV="63" readOnly="yes">
                <decVal/>
                <label>Motor Output Short Constant</label>
                <label xml:lang="de">Kurzschlussüberwachung Motorausgang</label>
                <label xml:lang="nl">Kortsluitbeveiliging motoruitgang</label>
            </variable>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv64.65registers.xml"/><!-- Piko -->
            <xi:include href="http://jmri.org/xml/decoders/nmra/fwdTrim.xml"/><!-- CV66 -->
            <xi:include href="http://jmri.org/xml/decoders/nmra/revTrim.xml"/><!-- CV95 -->
            <xi:include href="http://jmri.org/xml/decoders/nmra/cv67speedTableBasic.xml"/>
            <variable item="Advanced Function Mapping" CV="96" default="0"><!-- Piko -->
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
                <label>Use Advanced Function Mapping</label>
                <label xml:lang="de">Erweiterte Funktionsmapping aktiv</label>
                <label xml:lang="nl">Uitgebreide Functiemapping actief</label>
            </variable>
            <variable item="ABC Braking Value" CV="97" default="8">
                <decVal/>
                <label>ABC detection threshold</label>
                <label xml:lang="de">ABC-Modus „Empfindlichkeit”</label>
                <label xml:lang="nl">ABC Remdrempel</label>
                <tooltip>Voltage drop in Diode block = CV value * 0.12 Volts</tooltip>
                <tooltip xml:lang="de">Spannungsdifferenz für Diodenstrecke ist ca. CV-Wert * 0,12V</tooltip>
            </variable>
            <variable item="ABC Slow Speed" CV="98" default="30">
                <decVal/>
                <label>ABC mode reduced speed</label>
                <label xml:lang="de">ABC Modus „Langsamfahrt”</label>
                <label xml:lang="ca">Velociatat limitada en mode ABC</label>
                <label xml:lang="nl">ABC-modus Lage rijsnelheid</label>
                <tooltip>Speed in ABC Slow block</tooltip>
                <tooltip xml:lang="de">Geschwindigkeit in der ABC Langsamfahrstrecke</tooltip>
            </variable>

            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv107.108indepOutputs.xml"/>
            <variable item="Fn Map Shift F1" CV="100" default="0" mask="XXXXXXXV">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F2" CV="100" default="0" mask="XXXXXXVX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F3" CV="100" default="0" mask="XXXXXVXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F4" CV="100" default="0" mask="XXXXVXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F0f" CV="100" default="0" mask="XXXVXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F0r" CV="100" default="0" mask="XXVXXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F5" CV="101" default="0" mask="XXXXXXXV">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F6" CV="101" default="0" mask="XXXXXXVX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F7" CV="101" default="0" mask="XXXXXVXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F8" CV="101" default="0" mask="XXXXVXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F9" CV="101" default="0" mask="XXXVXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F10" CV="101" default="0" mask="XXVXXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F11" CV="101" default="0" mask="XVXXXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Fn Map Shift F12" CV="101" default="0" mask="VXXXXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-NoYes.xml"/>
            </variable>
            <variable item="Function Map Option 1" CV="101">
                <decVal/>
                <label>Set Fn Mapping Shift on tab Uhlenbrock to map F0-F12 to A2-A7</label>
                <tooltip>instead of to A0-A4 (don't edit here)</tooltip>
            </variable>

            <variable item="Analog Control option 1" CV="102" default="2" mask="XXXXXXVV">
                <enumVal>
                    <enumChoice choice="Inactive">
                        <choice>Inactive</choice>
                        <choice xml:lang="it">Non si ferma</choice>
                        <choice xml:lang="cs">Nezastavuje</choice>
                        <choice xml:lang="de">Keine Regelung</choice>
                    </enumChoice>
                    <enumChoice choice="Max CV106">
                        <choice>Max. speed from CV106</choice>
                        <choice xml:lang="de">max. Geschw. wie CV106</choice>
                    </enumChoice>
                    <enumChoice choice="Compare voltage to CV103-104">
                        <choice>Compare voltage to CV103-104</choice>
                        <choice xml:lang="de">Trafospng. messen und CV103-104</choice>
                    </enumChoice>
                </enumVal>
                <label>Analog Operation Max Speed</label>
                <label xml:lang="de">Analogbetrieb Max Speed</label>
                <tooltip>uses CVs 103-106 below</tooltip>
                <tooltip xml:lang="de">benutzt unterstehende CVs 103-106</tooltip>
            </variable>
            <variable item="Analog Control option 2" CV="102" default="3" mask="XXXXVVXX">
                <enumVal>
                    <enumChoice choice="Control Off">
                        <choice>Inactive</choice>
                        <choice xml:lang="it">Non si ferma</choice>
                        <choice xml:lang="cs">Nezastavuje</choice>
                        <choice xml:lang="de">Keine Regelung</choice>
                    </enumChoice>
                    <enumChoice choice="PID Control" value="1">
                        <choice>PID Control</choice>
                        <choice xml:lang="de">PID Regler</choice>
                    </enumChoice>
                    <enumChoice choice="SX Control" value="3">
                        <choice>SX Control</choice>
                        <choice xml:lang="de">SX-Regler</choice>
                    </enumChoice>
                </enumVal>
                <label>Analog Operation Control</label>
                <label xml:lang="de">Analogbetrieb Regelung</label>
                <tooltip>uses CVs 103-106 below</tooltip>
                <tooltip xml:lang="de">benutzt unterstehende CVs 103-106</tooltip>
            </variable>
            <variable CV="102" item="Analog Control check 1" default="1" mask="XXXVXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>Dynamic repeat rate</label>
                <label xml:lang="de">dynamische Wiederholrate</label>
            </variable>
            <variable item="Analog Control slider 1" CV="103" default="150">
                <decVal/>
                <label>Minimum Voltage</label>
                <label xml:lang="de">Mindest Trafospannung</label>
                <tooltip>for V = 0</tooltip>
                <tooltip xml:lang="de">für Vsoll = 0</tooltip>
            </variable>
            <variable item="Analog Control slider 2" CV="104" default="180">
                <decVal/>
                <label>Maximum Voltage</label>
                <label xml:lang="de">Maximale Trafospannung</label>
                <tooltip>for V = Vmax</tooltip>
                <tooltip xml:lang="de">für Vsoll = Vmax</tooltip>
            </variable>
            <variable item="Analog Control slider 3" CV="105" default="30">
                <decVal/>
                <label>Hysteresis</label>
                <label xml:lang="de">Hysterese</label>
                <tooltip>in analog mode</tooltip>
                <tooltip xml:lang="de">in Analogmudus</tooltip>
            </variable>
            <variable item="Analog Control slider 4" CV="106" default="200">
                <decVal/>
                <label>Vmax</label>
                <label xml:lang="de">Vmax</label>
                <tooltip>in analog mode</tooltip>
                <tooltip xml:lang="de">in Analogmudus</tooltip>
            </variable>
            <!-- TODO CVs 103-106 -->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv115lissy.xml"/>
            <!-- CVs 116-118 (CVs 116-123 for Piko) -->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/optionVars7outputs.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv124.129coupling.xml"/>
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv130.134smoke.xml"/>
            <!-- SmartSound 4.1 variables, CVs 109 - 111 are on Lights tab -->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/soundVars7outputs.xml"/>
            <!-- TODO CVs 135-149 Rangiertango-->
            <!-- CVs 150-157 are in optionVars7outputs.xml include -->
            <!-- CV159 pass Function Key to SUSI-->
            <variable item="SUSI F22" CV="159" mask="XXXXXXXV" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>Pass F Key to SUSI</label>
            </variable>
            <variable item="SUSI F23" CV="159" mask="XXXXXXVX" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
            </variable>
            <variable item="SUSI F24" CV="159" mask="XXXXXVXX" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
            </variable>
            <variable item="SUSI F25" CV="159" mask="XXXXVXXX" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
            </variable>
            <variable item="SUSI F26" CV="159" mask="XXXVXXXX" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
            </variable>
            <variable item="SUSI F27" CV="159" mask="XXVXXXXX" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
            </variable>
            <variable item="SUSI F28" CV="159" mask="XVXXXXXX" default="0">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
            </variable>
            <!-- TODO CVs 160-168 Servossteuerung -->
            <variable item="PWM Modulation on A0" CV="170" mask="XVVVVVVV">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A0</label>
                <label xml:lang="de">PWM-Verlauf auf A0</label>
                <label xml:lang="nl">PWM Modulatie op A0</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A0</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A0</tooltip>
            </variable>
            <variable item="PWM Cross on A0" CV="170" mask="VXXXXXXX">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A1" CV="171" mask="XVVVVVVV" minOut="3">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A1</label>
                <label xml:lang="de">PWM-Verlauf auf A1</label>
                <label xml:lang="nl">PWM Modulatie op A1</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A1</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A1</tooltip>
            </variable>
            <variable item="PWM Cross on A1" CV="171" mask="VXXXXXXX" minOut="3">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A2" CV="172" mask="XVVVVVVV" minOut="4">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A2</label>
                <label xml:lang="de">PWM-Verlauf auf A2</label>
                <label xml:lang="nl">PWM Modulatie op A2</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A2</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A2</tooltip>
            </variable>
            <variable item="PWM Cross on A2" CV="172" mask="VXXXXXXX" minOut="4">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A3" CV="173" mask="XVVVVVVV" minOut="5">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A3</label>
                <label xml:lang="de">PWM-Verlauf auf A3</label>
                <label xml:lang="nl">PWM Modulatie op A3</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A3</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A3</tooltip>
            </variable>
            <variable item="PWM Cross on A3" CV="173" mask="VXXXXXXX" minOut="5">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A4" CV="174" mask="XVVVVVVV" minOut="6">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A4</label>
                <label xml:lang="de">PWM-Verlauf auf A4</label>
                <label xml:lang="nl">PWM Modulatie op A4</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A4</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A4</tooltip>
            </variable>
            <variable item="PWM Cross on A4" CV="174" mask="VXXXXXXX" minOut="6">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A5" CV="175" mask="XVVVVVVV" minOut="7">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A5</label>
                <label xml:lang="de">PWM-Verlauf auf A5</label>
                <label xml:lang="nl">PWM Modulatie op A5</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A5</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A5</tooltip>
            </variable>
            <variable item="PWM Cross on A5" CV="175" mask="VXXXXXXX" minOut="7">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A6" CV="176" mask="XVVVVVVV" minOut="8">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A6</label>
                <label xml:lang="de">PWM-Verlauf auf A6</label>
                <label xml:lang="nl">PWM Modulatie op A6</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A6</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A6</tooltip>
            </variable>
            <variable item="PWM Cross on A6" CV="176" mask="VXXXXXXX" minOut="8">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Modulation on A7" CV="177" mask="XVVVVVVV" minOut="9">
                <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/enumPwm.xml"/>
                <label>PWM Modulation on A7</label>
                <label xml:lang="de">PWM-Verlauf auf A7</label>
                <label xml:lang="nl">PWM Modulatie op A7</label>
                <tooltip>Select one of the 8 available pulse modulations to be used on output A7</tooltip>
                <tooltip xml:lang="de">Zuordnung eines der 8 PWM-Verläufe für Lichtausgang A7</tooltip>
            </variable>
            <variable item="PWM Cross on A7" CV="177" mask="VXXXXXXX" minOut="9">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <label>On CROSS</label>
                <label xml:lang="de">mit CROSS</label>
                <label xml:lang="nl">met CROSS</label>
                <tooltip>only when CROSS-bit is set</tooltip>
                <tooltip xml:lang="de">nur aktif wenn CROSS-Ausgabebit gesetzt</tooltip>
            </variable>
            <variable item="PWM Duration" CV="178" default="15">
                <decVal/>
                <label>PWM Duration</label>
                <label xml:lang="de">PWM Periodendauer</label>
                <label xml:lang="nl">PWM-duur</label>
                <tooltip>Period display duration (value * 64 Milliseconds)</tooltip>
                <tooltip xml:lang="de">Periodendauer der Wiedergabe (Wert * 64 ms)</tooltip>
            </variable>
            <variable item="PWM Phase A0" CV="179" mask="XXXXXXXV">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A1" CV="179" mask="XXXXXXVX" minOut="3">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A2" CV="179" mask="XXXXXVXX" minOut="4">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A3" CV="179" mask="XXXXVXXX" minOut="5">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A4" CV="179" mask="XXXVXXXX" minOut="6">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A5" CV="179" mask="XXVXXXXX" minOut="7">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A6" CV="179" mask="XVXXXXXX" minOut="8">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Phase A7" CV="179" mask="VXXXXXXX" minOut="9">
                <xi:include href="http://jmri.org/xml/decoders/parts/enum-OffOn.xml"/>
                <tooltip>Unchecked/normal = 0 deg Checked/reversed = 180 deg</tooltip>
                <tooltip xml:lang="de">Normal = 0 Grad Ausgewählt/umgekehrt = 180 Grad</tooltip>
            </variable>
            <variable item="PWM Wait" CV="180">
                <decVal/>
                <label>PWM Wait</label>
                <label xml:lang="de">PWM Haltezeit</label>
                <label xml:lang="nl">PWM-pauze</label>
                <tooltip>Wait time after CROSS-bit off (value * 100 Milliseconds)</tooltip>
                <tooltip xml:lang="de">Haltezeit nach dem CROSS-Ausgabebit aus (Wert * 100 ms)</tooltip>
            </variable>
            <!-- TODO CVs 181-190 -->
            <variable item="Motor Management 1" CV="200" default="10">
                <decVal/>
                <label>Minimum Speed Step</label>
                <label xml:lang="de">minimale Fahrstufe</label>
                <tooltip>Minimal speed step to which the Period = CV53 is set</tooltip>
                <tooltip xml:lang="de">minimale Fahrstufe bis zu der die Periodendauer = CV53 gesetzt wird</tooltip>
            </variable>
            <variable item="Motor Management 2" CV="201" default="150">
                <decVal/>
                <label>Maximum Speed Step</label>
                <label xml:lang="de">maximale Fahrstufe</label>
                <tooltip>Maximal speed step from where the Period = CV202 is set</tooltip>
                <tooltip xml:lang="de">maximale Fahrstufe ab der die Periodendauer = CV202 gesetzt wird</tooltip>
            </variable>
            <variable item="Motor Management 3" CV="202" default="250">
                <decVal/>
                <label>Maximum Period Length</label>
                <label xml:lang="de">maximale Periodendauer</label>
                <tooltip>Maximum Period length in 100μs steps (min = CV53)</tooltip>
                <tooltip xml:lang="de">maximale Periodendauer in 100μs Schritten (min = CV53)</tooltip>
            </variable>
            <!--extended function mapping on IntelliDrive2 and Piko 4.1, includes cv 31-32 bank switches-->
            <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/cv257.512extendedmap.xml"/>
        </variables>

        <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/factReset4.xml"/><!-- Piko -->
    </decoder>
    <!-- special panes -->
    <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/PaneRailcom.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/PaneUhlenbrock.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/PaneId2Advanced.xml"/><!-- IntelliDrive2, overrides some CVs set above -->
    <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/fmapPane7outputs.xml"/>
    <xi:include href="http://jmri.org/xml/decoders/uhlenbrock/PaneExtendedFmap.xml"/>
</decoder-config>
