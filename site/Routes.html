<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<!-- $Id: Routes.html,v 1.2 2004-07-09 03:43:54 jacobsen Exp $ -->
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Bob Jacobsen, LBL">
   <meta name="GENERATOR" content="Mozilla/4.75C-CCK-MCD {C-UDP; EBM-APPLE} (Macintosh; U; PPC) [Netscape]">
   <meta name="Content-Type" content="text/html; charset=iso-8859-1">
   <title>Route Documentation</title>
</head>
<body>

<A href="index.html">
<IMG SRC="images/logo.gif" ALIGN=RIGHT WIDTH="160" HEIGHT="135" HSPACE="0" VSPACE="0">
</a>

<h1>Route Documentation</h1>

<h3>What are Routes?</h3>

Routes are collections of Turnouts whose states may be set all at once.  For example, a Route may be set up to clear all Turnouts on a mainline with one computer or fascia panel button.  Routes may also be set up to control the setting of ladders of Turnouts in staging areas or yards.  Another use is to set layout Turnouts to default positions when beginning an operating session.  JMRI Routes are similar to the routes implemented in the Digitrax Chief system, except the JMRI Routes can mix Turnouts controlled by different hardware systems.

<h3>How to setup for adding or editing Routes:</h3>

First make sure the Turnout Table contains all Turnouts involved in the Routes to be defined.  Then select Tools>Route Table, and select (click on) the Add... button at the bottom of the table to bring up the Add/Edit Route window.

<h3>To add a new Route:</h3>

<ol>
	<li>Enter a System Name, such as 'IR100'--any short name can be used provided it is different from the System Name of other Routes.</li>
	<li>Enter a User Name, any string of characters that is different from the User Name of other Routes will be accepted, but it's wise to use a string that describes the intended use of the Route.</li>
	<li>Select Turnouts to be included in the new Route in the list of all defined Turnouts, by clicking on the checkbox in the Include column.  For each included Turnout, use the combo box in the Set State column to select whether that Turnout is to be THROWN or CLOSED when the Route is 'Set'.  Don't worry if everything isn't perfect.  It's easy to edit this information later.  Note that the Add/Edit Route window allows you to display 'All' Turnouts or 'Included' Turnouts.  This is only for your convenience in checking that all desired Turnouts have been included; it does not affect entered information.</li>
	<li>If you want the setting of the Route to be controlled by one or more fascia push buttons, enter the Sensor System Names of the push buttons--up to three in the current implementation.  This is optional. </li>
	<li>Also optional, if you want to enable setting of the Route from a physical throttle that JMRI monitors, enter a Turnout System Name and select the state, closed or thrown, that will trigger the setting of the Route.  This Turnout can be a real physical Turnout or a 'phantom' Turnout (a Turnout number with no corresponding physical Turnout).  A phantom Turnout is most often used, but there are situations where a real Turnout may be advantageous.</li>
	<li>Select the Add Route button at the bottom of the window.  If everything is fine, a message stating "New Route added ... " will be displayed in the notes box near the bottom of the window.  If there is trouble with anything, a message will be displayed in the notes box.</li>
</ol>

<h3>To edit an existing Route:</h3>

<ol>
	<li>Enter the System Name of the Route to be edited.  This must be the same as the System Name shown in the Route Table.</li>
	<li>Select the Edit Route button to display current information for the selected Route. The Add Route and Edit Route buttons will change to Update Route and Cancel.  Note that the System Name of the selected Route may not be changed.</li>
	<li>After making changes to the Route information, select Update Route to  change the selected Route.  If everything is fine, a message stating "Route updated ... " will be displayed in the notes box near the bottom of the window.  If there is any trouble, a message will be displayed in the notes box.</li>
	<li>Select Cancel to exit Edit mode without changing the selected Route.  If the Add/Edit Route window is dismissed (closed) while in Edit mode, Cancel is automatically selected, and no changes are made to the selected Route.</li>
</ol>


<h3>To set (trigger) a Route:</h3>

Routes may be 'set' by clicking the Set button in the State column of the Route Table.  A Route may also be set by fascia panel buttons if Sensors for these buttons are defined in the Route information.  If a control Turnout is defined in the Route information, throwing or closing that Turnout from your physical throttle will also trigger the Route.

<h3>To save Routes to disk:</h3>

Routes are saved in your layout configuration file, along with Turnouts, Sensors, Signal Heads, Lights, etc.  To store this information on disk, use Store Configuration... in the File menu at the top of the Route Table (or other tables from the Tools menu), or select Store Panel... in the Panel menu.

<HR>
<BR>Site hosted by: <BR>
<A href="http://sourceforge.net"> 
<IMG src="http://sourceforge.net/sflogo.php?group_id=26788&type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 

<hr>
Bob Jacobsen<BR>
jake@physics.berkeley.edu

</body>
</html>
