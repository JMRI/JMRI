<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!-- JMRI Throttle Documentation -->
<!-- Creation date: 3/18/2004    -->
<!-- Author: Paul Fraker         -->
<!--    paul@frakers.com         -->
<!--    www.frakers.com          -->
<!--                             -->
<!-- Last updated: 03/30/2004    -->

<HTML>
<HEAD>
	<TITLE>JMRI Throttle Documentation</TITLE>
	<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<META NAME="Description" CONTENT="Throttle documentation for JMRI project">
	<META NAME="Keywords" CONTENT="JMRI">
	<META NAME="Author" CONTENT="Paul R. Fraker">
	<META NAME="Generator" CONTENT="AceHTML 4 Pro">
	<META NAME="Language" CONTENT="EN">
	<META NAME="Robots" CONTENT="Index, Follow">
	<META NAME="Revisit-After" CONTENT="7 Days">
	<LINK REL="SHORTCUT ICON" HREF="Images/JMRIThrottle.ico">
	<LINK REL=STYLESHEET HREF="JMRIThrottle.css">
</HEAD>

<BODY LINK="blue" VLINK="blue" BGCOLOR="#FFFFFF">

<A NAME="NewThrottleWindow"></A>

<H1>JMRI THROTTLE LAYOUT</H1>
<H2>User Guide</H2>
<BR>
<H3>SAVING/OPENING THROTTLE LAYOUTS</H3>

<BR><BR><BR>

<TABLE BORDER=0 WIDTH="100%" CELLPADDING=5 CELLSPACING=0>
	<TR>
		<TD align="left" valign="top">
			<P>The previous chapters presented all of the information needed to...
			
			<UL>
				<LI>open up a new throttle window,<BR><BR>
				<LI>establish an active decoder address,<BR><BR>
				<LI>run a locomotive,<BR><BR>
				<LI>activate any functions of the locomotive,<BR><BR>
				<LI>and set up a customized configuration.<BR>
			</UL>
			
			<P>This chapter now provides information on saving and opening throttle
			layouts.</P>
			
			<BR><BR>

			<A NAME="SaveLayout"></A>
			<H4>Saving a Throttle Layout</H4>
			<DIR>
				<P>A new throttle window can be started and a DCC address established
				to run a train around a layout, and then close down the throttle
				window when done with it.  This of course loses the configuration
				that you established during this throttle session.  And this is fine
				if you are running a test of sorts on a loco that
				you have no intention of running by one of these computer throttles.
				Therefore, closing down the throttle window to eliminate it would
				suffice.</P>	
				
				<TABLE BORDER=0 WIDTH="95%" CELLPADDING=0 CELLSPACING=0>
					<TR>
						<TD width="90%" align="left" valign="top">
							<P>But what if you don't want to keep establishing a new
							throttle window each time for one or more locomotives that you intend
							on running from your computer?</P>
							
							<P>If you were following along in the 
							<A HREF="ThrottleChapter2.html">previous chapters</A>
							with building up a new throttle layout and got your train
							moving, then the next question that probably comes to
							your mind is, "how do I save it?"</P>
							
							<P>Following the directions provided in
							<A HREF="ThrottleChapter1.html#MainMenu">Chapter 1</A>
							for locating the Throttle Menu, locate the option
							that says "<STRONG>Save Throttle Layout</STRONG>" (see
							figure 4-1 on the right).  Clicking on this menu option
							will display a "<B>Save As</B>" dialog box
							see figure 4-2 on the right).</P>
							
							<P>By default, it should show the directory where your
							roster file is located.  You can save it to this
							directory if you wish, or you can save it to
							another location of your choosing.  
							For example, the figure on the
							right shows a "Throttles" folder (sub-directory) where all
							throttle layout files are saved.</P>
							
							<P>After entering a file name of your choosing 
							(and optional location)
							that best supports your railroad environment, the current
							throttle layout will be saved with all preferences —
							including window size and location.</P>
							
							<P>After the save is successful, you can close down the
							throttle window.</P>
							
							<DIV>
							Note: the "Save" option will save <U>all</U> currently
							opened throttle windows — they are <U>not</U>
							saved as individual throttles.  This is explained in more detail
							below.
							</DIV>
						</TD>
						
						<TD width="1%">
							<IMG width="20" height="20" SRC="Images/Spacer.gif">
						</TD>
						
						<TD width="9%" align="center" valign="top">
							<IMG WIDTH="163" HEIGHT="82" SRC="Images/jmri006.jpg"><BR>
							<FONT SIZE=1>Figure 4-1: Save Throttle Layout</FONT><BR><BR><BR><BR>
							<IMG WIDTH="327" HEIGHT="272" SRC="Images/jmri040.jpg"><BR>
							<FONT SIZE=1>Figure 4-2: Save As Dialog</FONT>
						</TD>
					</TR>
				</TABLE>
				
				<BR><BR><BR>
				
				<A NAME="SaveMultiple"></A>
				<H5>Saving Multiple Throttle Windows</H5>
				<DIR>
					<P>The above instructions are pretty simple when working with a
					single throttle window.<P>  
					
					<P>But what happens when you have two or
					more throttle windows open at the same time?  When you use the save option,
					<U>all</U> opened throttle windows will be saved in the same file.  When
					that file is re-opened, all throttle windows identified in that file will
					get opened.</P>
					
					<P>This is important to understand — especially further along when 
					working with <A HREF="#Merging">merging multiple throttles</A>.</P>
					
					<TABLE BORDER=0 WIDTH="90%" CELLPADDING=0 CELLSPACING=0>
						<TR>
							<TD width="90%" valign="top">
								<P>In the previous chapter, a single throttle window was initiated.  And
								a simple "save" would certainly have saved just the single throttle window
								into a single layout file.  When the file is opened again, only the single
								throttle window would appear.</P>
								
								<P>But what if we had opened and configured a second throttle
								window, while the first throttle window was still active on the screen?
								There would then be two active throttle windows that would be "saved" into
								the same layout file (see figure 4-3).
								Not only would the configuration of the throttles be saved, but also the exact
								screen sizing and locations of the two throttles.</P>
								
								<P>When the layout file is
								re-opened, both throttle windows would be opened and positioned on the computer
								screen in the exact place they were when the file was saved.</P>
							</TD>
							
							<TD width="1%">
								<IMG width="20" height="20" SRC="Images/Spacer.gif">
							</TD>
							
							<TD width="9%" align="center" valign="top">
								<IMG WIDTH="309" HEIGHT="187" SRC="Images/jmri036.jpg"><BR>
								<FONT SIZE=1>Figure 4-3: Two Active Throttle Windows</FONT>
							</TD>
						</TR>
					</TABLE>
				</DIR>
			</DIR>
			
			<BR><BR><BR>
			
			<A NAME="LoadLayout"></A>
			<H4>Open/Load a Throttle Layout</H4>
			<DIR>
				<P>After saving a throttle layout has been accomplished, you'll want to open the file again.
				This is a very simple procedure.  However, opening up a throttle layout file when one or
				more throttle windows are already active somewhere on the screen, requires an extra step.
				Before we discuss this extra step, let's first open a simple throttle layout file.</P>
				
				<P>If you were following the guidelines shown above for saving a throttle layout file, you
				should now have created your first throttle file.  If you haven't done so already, close
				down the throttle window that you created in the previous chapter (make sure you saved it
				first by following the above instructions).</P>
				
				<TABLE BORDER=0 WIDTH="95%" CELLPADDING=0 CELLSPACING=0>
					<TR>
						<TD width="90%" align="left" valign="top">
							<P>You shouldn't have any throttle windows open on your screen at this time.
							Following the directions provided in
							<A HREF="ThrottleChapter1.html#MainMenu">Chapter 1</A>
							for locating the Throttle Menu, locate the option
							that says "<STRONG>Load Throttle Layout</STRONG>" (see
							figure 4-4 on the right).  Clicking on this menu option
							will display an "<B>Open</B>" dialog box.  Locate the
							throttle layout file that you just previously saved and open it.</P>
						</TD>
						
						<TD width="1%">
							<IMG width="20" height="20" SRC="Images/Spacer.gif">
						</TD>
						
						<TD width="9%" align="center" valign="top">
							<IMG WIDTH="163" HEIGHT="82" SRC="Images/jmri007.jpg"><BR>
							<FONT SIZE=1>Figure 4-4: Load Throttle Layout</FONT>
						</TD>
					</TR>
				</TABLE>
				
				<P>The throttle window that you just created should open up in the same place where
				you closed it.  At the same time that the window opens, it is also initializing the
				decoder address to the command station (just like when the address was first "Set").
				The throttle attempts to determine the current direction of the locomotive, as well
				as identify any functions that are in the "on" state.</P>
				
				<DIV>
					Note: Because the JMRI Throttles are still in their "beta" development mode, there are still some
					quirks that need to be ironed out.  An example of this is when opening a throttle
					layout and the DCC address is already "in use" by another throttle.  Some systems
					(i.e. Digitrax) are reacting differently when this occurs.<BR><BR>  
					
					Enhancement requests
					are already on the list for the throttles to be "smart" in determining when another
					throttle already has the address.  But until these throttles are fully implemented, just
					beware that there may be quirks with your particular DCC system with this
					feature.  It is therefore suggested that <U>prior</U> to opening up a saved
					throttle layout file, the DCC address is verified as not being used
					by another throttle somewhere.<BR><BR>
				</DIV>
				
				<BR><BR>
				
				<A NAME="Merging"></A>
				<H5>Merging Throttle Windows<H5>
				<DIR>
					<P>Throttle layout files can consist of a single throttle window (to control a single
					locomotive or consist address), or it can contain multiple throttle windows (refer to
					figure 4-3).  In either case, when opening a throttle layout file, the program will check
					to see if any existing active throttle windows are already open.  If none are found,
					then the file is opened just like a simple layout opening (explained above).</P>
					
					<TABLE BORDER=0 WIDTH="90%" CELLPADDING=0 CELLSPACING=0>
						<TR>
							<TD width="90%" align="left" valign="top">
								<P>However, when one or more throttle windows are discovered already open on
								the screen, the program will open up a dialog box as shown in figure 4-5
								on the right.</P>
								
								<UL>
									<LI><STRONG>Merge</STRONG> — leaves the currently active open throttle
									windows in place and opens the throttle(s) contained in the layout file
									being opened.<BR><BR>
									<LI><STRONG>Replace</STRONG> — closes down the currently active open
									throttle window(s) and opens up the throttle window(s) established in the
									saved layout file.<BR><BR>
									<LI><STRONG>Cancel</STRONG> — cancels the "open" request and closes
									down this dialog window.
								</UL>
								
							</TD>
							
							<TD width="1%">
								<IMG width="20" height="20" SRC="Images/Spacer.gif">
							</TD>
							
							<TD width="9%" align="center" valign="top">
								<IMG WIDTH="354" HEIGHT="125" SRC="Images/jmri035.jpg" TITLE="Figure 13: Merge Dialog Box"><BR>
								<FONT SIZE=1>Figure 4-5: Merge Dialog Box</FONT>
							</TD>
						</TR>
					</TABLE>
					
					<BR><BR>
					
					<DIV>
						Note: Do not confuse the action that is occurring here with any attempts to overwrite your saved
						throttle layout files.  The above actions have no effect on the actual saved throttle layout
						files themselves.  The only "merging" and "replacing" that occurs is simply
						on your screen.
					</DIV>
					
					<BR><BR>
					
					<TABLE BORDER="2" WIDTH="90%" CELLPADDING="4" CELLSPACING="2" BORDERCOLOR="#0033FF">
						<TR>
							<TD valign="top">
								<CENTER>
								<STRONG>TIP!</STRONG>
								</CENTER>
								
								<P>When creating throttle layout files, you can save the same decoder address
								in multiple throttle layout files.  A good example of why you may want to do this 
								would be if you create several throttle layout files,
								each consisting of a single throttle window controlling one single locomotive —
								like one for each loco in your roster.  There may
								be times when you wish to just run a single locomotive and you just open up the associated layout file.  
								Simple!  But what if you find yourself opening up the same locomotive throttles consistently on each session.
								It's going to become a pain opening up (and "merging") these throttles one at a time.  
								Therefore, you could create another layout file that contains all of the throttle windows 
								that you wish; then just open up the one layout file and you'll
								have all of the throttle windows defined.</P>
								
								<P>Just remember, when making a change to the configuration
								of a throttle window, it only gets changed in the layout file that you saved — it is <U>not</U>
								a global change in every file where that locomotive is used.</P>
							</TD>
						</TR>
					</TABLE>
				</DIR>
			</DIR>
			
			<BR><BR><BR>
			
			<A NAME="CloseThrottle"></A>
			<H4>Closing a Throttle Window</H4>
			<DIR>
				<P>When done with a throttle window, it might be a good idea if you get into the practice
				of either "releasing" or "dispatching" the locomotive before completely closing down
				the throttle window.</P>
				
				<P>If you have made any configuration changes to the throttle window, and you want to save them,
				you'll need to follow the steps as outlined above.</P>
				
				<DIV>
					Note: If you "save" any changes that you have made during a session back to an existing throttle
					layout file, beware that <U>ALL</U> currently opened throttle windows will also be saved to
					the same file.
				</DIV>
				
				<P>When you are ready, simply close down the throttle window as you normally would on whatever
				computer system you use.  For example, for Microsoft Windows, simply click on the "<BIG>X</BIG>"
				in the upper right corner of the throttle window.</P> 
			</DIR>
		</TD>
	</TR>
</TABLE>




<BR><BR><BR><BR>

<A NAME="Bottom"></A>
<TABLE BORDER="0" WIDTH="100%" BGCOLOR="#003399" CELLPADDING="0" CELLSPACING="0">
	<TR>
		<TD ALIGN="right" WIDTH="45%">
			<B><A HREF="ThrottleChapter3.html" TITLE="Return to the previous chapter">Previous</A></B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		</TD>
		<TD ALIGN="middle" WIDTH="10%">
			<B><A HREF="ThrottleMain.html" TITLE="Jump to the main Throttle Layout page">Main</A><B>
		</TD>
		<TD ALIGN="left" WIDTH="45%">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B><A HREF="#Bottom">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</A></B>
		</TD>
	</TR>
</TABLE>

<BR><BR>

<HR>Site hosted by: <BR>
<A href="http://sourceforge.net"> 
<IMG src="http://sourceforge.net/sflogo.php?group_id=26788&type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A>
</BODY>
</HTML>
