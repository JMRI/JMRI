<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Bob Jacobsen, LBL">
   <meta name="GENERATOR" content="Mozilla/4.75C-CCK-MCD {C-UDP; EBM-APPLE} (Macintosh; U; PPC) [Netscape]">
   <meta name="Content-Type" content="text/html; charset=iso-8859-1">
   <title>README</title>
</head>
<body>

<PRE>
This is version 0.8 of "JMRI Demo".

This demo works with Digitrax LocoNet and NCE-equipped layouts. It provides
tools for layout control and monitoring, and for programming decoders.

For more information, visit the JMRI web page at http://jmri.sourceforge.net/
or contact Bob Jacobsen (jake@physics.berkeley.edu). 

For more installation information, please 
see http://jmri.sourceforge.net/InstallJmri.html

Note that there are four distributions for JMRI, with different contents.
The basic Java code is the same, but because of the specific features of
various system's support for Java, its necessary to handle the details in
different ways.  More information on the details of the various packages is 
available at http://jmri.sourceforge.net/Technical/Packaging.html


Macintosh MacOS 8 and 9 instructions:
=====================================

This demo should run with any recent release of the Macintosh Runtime for Java (MRJ).  
MRJ requires Mac OS 8.1 or later.  Development is currently using MRJ 2.2.5, 
available for download from Apple at
  http://developer.apple.com/java/download.html

Start the demo by double-clicking on the "JMRI Demo" application icon.  


Macintosh MacOS X instructions:
=====================================

Under MacOS 10.1 and later, double-click the "JMRI MacOSX" icon
to run the demo natively under MacOS X. It will have the nice Aqua interface.  

You will need drivers for the serial hardware you're using.  We test
using a Keyspan PDA Adapter; those drivers are available at 
  http://www.keyspan.com/support/macosx
  
You also need the javax.comm package.  An installer can be downloaded from
  http://prdownloads.sourceforge.net/jmri/JavaCommInstaller04.hqx
You will need the MacOS X administrator password to run it.
  
Some device drivers will list each port under several names, e.g. starting
with "/dev/tty" or "/dev/cu", for example "/dev/tty.KeyUSA19181.1". In that case, 
select the one that starts with "tty" for best performance.

Note that MacOS X 10.1 is required for this to work. Further, MacOS 10.1 does
not yet support the LocoNet baud rate, so you must use a LocoBuffer to
access a LocoNet; a MS100 will not yet work.  We're working with Apple
to get this fixed.


OS/2 instructions:
==================

You need to have Java (at least 1.1.8), Swing and javacomm installed on your 
machine. These can be downloaded from the IBM site.

Download the JMRI.demo.0.8.OS2.zip file and expand it with 

   PKZIP -extr -dir JMRI.demo.0.8.OS2.zip

Change to the directory just created, then run the JmriDemo.CMD  
script from this directory with

   JmriDemo
     

Linux instructions:
===================

You need to have Java 1.2 or later installed on your machine, including Swing. 
You can get this from Sun at
  http://java.sun.com/j2se/
For information on installing Java, please see 
  http://jmri.sourceforge.net/Java/InstallJava.html

To communicate with a LocoNet, you need to have a version of the javax.comm 
package installed on your computer.  One is available at 
  http://www.interstice.com/kevinh/linuxcomm.html
with additional information at
  http://www.rxtx.org/

Download the JMRI.demo.0.8.tar.gz file, then unpack it with
   gunzip JMRI.demo.0.8.tar.gz
   tar xf JMRI.demo.0.8.tar
      
Switch to the demo directory and run the demo using

  ./JmriDemo.csh
  

Windows instructions:
=====================

You need to have Java 1.2 or later installed on your machine, including Swing. 
We test with JRE 1.3.1-01. You can get this from Sun at
  http://java.sun.com/j2se/
For information on installing Java, please see 
  http://jmri.sourceforge.net/Java/InstallJava.html
  
You will need to know where your Java installation is on your disk.  This is
called the "Java home directory" below.  The Sun installers use
  C:\Program Files\JavaSoft\JRE\<version> 
for this, for example
  C:\Program Files\JavaSoft\JRE\1.3.1

To communicate with a LocoNet or NCE system, you need to have a version 
of the javax.comm package installed on your computer.  The one from 
  http://java.sun.com/products/javacomm/
is included with the JMRI distribution, but you have to copy some files
to their final locations.

Download the JMRI.demo.win.0.8.zip file and expand it with WinZip or similar.

Copy the "win32com.dll" file just unpacked to the "bin" subdirectory of your
Java home directory, for example:
  copy win32com.dll C:\Program Files\JavaSoft\JRE\1.3.1\bin

Copy the "javax.comm.properties" file just unpacked to the "lib" subdirectory 
of your Java home directory, for example:
  copy javax.comm.properties C:\Program Files\JavaSoft\JRE\1.3.1\lib

Installation is complete.

To start the program, double click on the "jmriwin95" icon, or type in a DOS
window in the install directory:

  java -jar jmriwin95.jar
 
Note: We've heard that some types of Comm ports can't handle the LocoNet baud
rate.  If you get errors messages about "Unsupported baud rate", please let
use know so we can help find a solution for this.


LocoNet Hardware Connection:
============================

There are two hardware adapters available to connect to a LocoNet.  The
LocoBuffer is the strongly preferred alternative, as it reduces the load 
on the host computer and has a significantly smaller error rate.  The
Digitrax MS100 interface adapter is also supported (except on MacOS X). The 
LocoBuffer was created by John Jabour (jjabour@optonline.net); more
information is available from the LocoNet_Info group, 
  http://groups.yahoo.com/group/loconet_hackers
The LocoBuffer should be configured with J1, J4 and J5 set on pins 1 and 2, 
J2 and J3 set to pins 2 and 3.

Connect a LocoBuffer or Digitrax MS100 interface to a serial port, using 
an adapter cable as needed.  For more information on the MS100, please see
  http://www.digitrax.com/computer.htm
For more information on the LocoBuffer, please see
  http://groups.yahoo.com/group/loconet_hackers/files/LocoBuffer/
  
The demo program is tested on an MS100 and USB Macintosh using a Keyspan PDA 
Adapter to provide the serial port; for information please see 
http://jmri.sourceforge.net/DigiTrax/KeyspanAdapters/KeyspanUSB.html. 
 
A standard Macintosh RS422 serial port will not work directly 
with an MS100. Since it doesn't have two output status lines (DTR and RTS),
it can't provide correct power to the MS100.  It may be possible to 
provide external power; if you're interested in trying this, we'd
be happy to help work out a solution.

See below if you don't have a hardware connection to a LocoNet layout available.


NCE System Hardware Connection:
===============================

The demo program is tested on a USB Macintosh using a Keyspan PDA Adapter to 
provide the serial port.
  
Its not known if a standard Macintosh RS422 serial port will work directly 
with an NCE system; if you have a pre-USB Macintosh and want to use this demo, please 
contact us for more information.


Operating the demo (Loconet on all platforms):
==============================================

After the program starts, pull down the left "Input" menu  and select 
either "MS100" or "LocoBuffer" depending on the hardware adapter you 
have connected.

Select the name of the serial port connected to your layout.

Click "Open port"

You can now pull down the "LocoNet" menu and select "LocoNet Monitor" to open 
a LocoNet monitor frame.  You should immediately start seeing LocoNet traffic 
in the top pane, which contains the last 20 messages. The controls at the bottom 
allow you to display raw data in addition to the interpreted packets, to clear the 
listing, and to write output to a log file.

The "LocoNet" menu has additional tools:

"Send Packet" -  a window what allows you to send an arbitrary packet to the
LocoNet.  Type in hex pairs, such as "b2 11 40 1c", then press 'Send'.

"Slot Monitor" - Displays the contents of the command station slots.  These 
are used by throttles to control locomotives.  If you uncheck the box at the top, 
only slots corresponding to active locomotives will be visible.

If you don't have an MS100 or LocoBuffer connection to a LocoNet layout 
available, you can still see the demo run by selecting "Hexfile" from 
the left "Input" menu.  When you then click "Open file" and and then 
open the lnpacket.hex sample file, the program will pretend that LocoNet 
traffic is arriving from the captured-message file.  


Operating the demo (NCE on all platforms):
==========================================

After the program starts, pull down the left "Input" menu  and select 
"NCE Serial". 

Select the name of the serial port connected to your layout.

Click "Open port"

You can now pull down the "NCE" menu and select "Command Monitor" to open 
a monitor frame.  You won't see any traffic on this until you use one of the
other panels to do something. The controls at the bottom 
allow you to display raw data in addition to the interpreted packets, to clear the 
listing, and to write output to a log file.


Using the JMRI demo tools:
==========================

The "Tools" menu additional tools for interacting with your layout:

"Turnout Control" - a window to control and monitor a single turnout.  You can have as 
many of these open as you'd like.  

"Simple Programmer" - a window to use the command station's programming track to 
read or write a single CV at a time.  Paged, Direct and Register modes are available, 
but not yet Ops Mode.

"Symbolic Programmer" - a window for programming decoders in terms of 
specific functions.  For more information, please see 
http://jmri.sourceforge.net/SymbProg/index.html


For more information
====================

More information is available on the JMRI web page:   http://jmri.sourceforge.net/

Feedback is greatly appreciated!  We especially welcome suggestions of what 
you'd like to see this program do.  If you encounter a problem, please let use 
know so we can fix it.  You can send email to jake@physics.berkeley.edu, or use 
the web form to 

 report bugs:     http://sourceforge.net/tracker/?atid=388313&group_id=26788&func=add

 request help:   http://sourceforge.net/tracker/?atid=388314&group_id=26788&func=add

 suggest improvements:   http://sourceforge.net/tracker/?atid=388316&group_id=26788&func=add


Notes: 
======
 
Some hardware may not support the LocoNet baud rate.  If so, please let me know the 
specifics so I can create a workaround. 

I would also appreciate help with creating installers for Linux, Windows and 
other platforms.

The javax.comm.MRJ package, including the javax.comm.MRJ.jar file, is 
copyright 1999 Patrick Beard, beard@netscape.com  Do not redistribute without 
permission. See http://homepage.mac.com/pcbeard/javax.comm.MRJ/ for 
more information.

The LocoNet monitoring includes algorithms first seen in the llnmon program 
by Ron W. Auld.

For other important acknowledgements, please see
http://jmri.sourceforge.net/Acknowledgements.html

Some of the contents of this folder are copyright 2001 Bob Jacobsen, 
jake@physics.berkeley.edu. For license information, see
http://www.opensource.org/licenses/artistic-license.html

LocoNet is a trademark of Digitrax Corp.

More information on the JMRI project is available from the in-construction 
web pages at http://jmri.sourceforge.net/  The source code is available vis CVS 
from that page.

To comply with the Sun trademark policy, JMRI is not an acronym.

</PRE>

<HR>
<BR>Site hosted by: <BR>
<A href="http://sourceforge.net"> 
<IMG src="http://sourceforge.net/sflogo.php?group_id=26788&type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 

<hr>
Bob Jacobsen<BR>
jake@physics.berkeley.edu

</body>
</html>
