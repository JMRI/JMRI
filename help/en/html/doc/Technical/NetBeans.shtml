<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id$ -->
<html lang="en">
<head>
    <TITLE>
 	JMRI: Building with NetBeans
    </TITLE>
    <META content="Bob Jacobsen" name=Author>
    <meta name="keywords" content="JMRI technical code NetBeans">

    <!-- The combination of "Define" and {Header,Style, Logo and Footer} comments -->
    <!-- are an arbitrary design pattern used by the update.pl script to -->
    <!-- easily replace the common header/footer code for all the web pages -->

    <!-- delete the following 2 Defines if you want to use the default JMRI logo -->
    <!-- or change them to reflect your alternative logo -->

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<!--#include virtual="/Header" -->
<!--#include virtual="Sidebar" -->

	<div id="mainContent">
	    <!-- -------- -->
	    <!--  Teaser  --> <!-- Optional -->
	    <!-- -------- -->


	    <H1>JMRI: Building with NetBeans</H1>

    <p>NetBeans 6.8 (available at <a href="http://www.netbeans.org">www.netbeans.org</a>)
    makes a great platform for working with JMRI.
    The JMRI code is setup to work with NetBeans with almost no
    additional setup.
    (The description below is accurate for the MacOS X version of NetBeans 6.8.
    NetBeans is <i>supposed</i> to be identical across platforms, but this hasn't 
    been checked on anything else). </p>
    <p>NetBeans is a very powerful Integrated Development Environment (IDE),
    which can make working with the JMRI code pretty easy.  But it takes a little
    getting used to, and reading the tutorials on the 
    <A HREF="http://netbeans.org/community/releases/68/">NetBeans 6.8 web site<a/>
    will be helpful.
    </p>


    <h2> Getting and installing Netbeans</h2>
    <ul>
        <li> Download Netbeans 6.8 (The Java SE version is fine) from <a href="www.netbeans.org">netbeans.org</a></li>
        <li> Run the netbeans package installer</li>
    </ul>
    <h2>Checking out code</h2>
    <p>
    The easiest way to get the initial copy of the code is to 
    directly check it out using Netbean's integrated CVS.  Once you've done that,
    NetBeans will automatically use it.
    </p>
    <p>Start netbeans and do the following steps. Text in brackets [] are menu items to be selected
    or buttons to be pressed.
    Text in <strong>this font</strong> should be typed into NetBeans exactly as written.
    <em>This font</em> denotes explanations and stage directions to follow.</strong><br />
    </p>
        [Team]-&gt;[CVS]-&gt;[Checkout]
        <ul>
            <li> CVS Root: <strong>:pserver:anonymous@jmri.cvs.sourceforge.net:/cvsroot/jmri</strong>
            <li> Password: <em>leave empty</em>
            <li> [Next]
            <li> Module: <strong>all</strong> <em>(We really do mean to type "all" in the field. <u>Don't</u> leave the field blank!)</em>
            <li> Branch:  <em> leave empty</em>
            <li> Local Folder: <em>pick somplace on your hard drive...</em>
            <li> [Finish]
        </ul>
    <br />
    [Window]-&gt;[Output]-&gt;[Output]     <em>shows cvs activity log window...</em>
        <blockquote>
            <em>wait a few minutes for the CVS checkout to complete<br />
                A popup will display asking if you want to open the project
            </em><br/>
            [YES]
        </blockquote>

        <h2> Building and running JMRI</h2>
        <p>    To build and run DecoderPro, all you have to do is select
               "Run Project (JMRI)" from the Run menu, or click the Run icon in the tool bar.
        </p>

        <ul>
            <li>Run -> Run Project (JMRI)  <em>will compile and invoke DecoderPro</em>
            <li><em>You can choose other targets (i.e. PanelPro...) by changing [File]-&gt;[Properties]-&gt;[Build and Run]-&gt;[Run Project]</em>
        </ul>
        <p>
            If you want to run the program under the NetBeans debugger,
            select "Debug Project (JMRI)" from the "Run" menu.
        </p>

    <h2>Updating the code from CVS</h2>

    <p>From time to time, you can update the code to match the current 
    repository contents. To do this, use the
    [Team]-&gt;[Update] menu choice.</p>

    <h2>Making a Jar File</h2>

    Most of the code in a normal JMRI installation lives in a file called
    jmri.jar.  If you want to replace this with your updated version, you
    need to create a new jmri.jar file from your modified code.  
    <P>
    To do this,
    ctrl-click (or right-click) on the name of the "JMRI" project in the
    "Projects" window.  This will open a pop-up menu, on which you'll
    find "Make Jar File". Select that, and a new jmri.jar file will be
    produced in the project's main directory.
    
    <A NAME="patch">
    <h2>Making a Patch File</h2></a>
    
    A "diff patch file" is an easy way to gather up all your changes, even
    if they span multiple files, into one file that you can then send to us.
    It's also easy to merge in with the rest of the code, so we greatly 
    prefer that you use this.
    
    <P>
    To create the file:
    <UL>
 
    <LI>From the [Team] menu, select "Export Diff Patch ..."
    <LI>A file browser will open; enter a new file name
        in your preferred location and hit "Save" or "Open", 
        depending on what the dialog shows. 
    <LI>After it finishes calculating the diffs, the file you selected will contain
        the patches, along with an information header.
    </UL>

<h2>Windows Details</h2>

<pre>
When running from within Netbeans on a Windows system, if JMRI can't find
your layout connection this may be the problem.

The problem is due to a different Java Runtime Environment (JRE) being
used when run from within Netbeans as opposed to normal.

Normally, the Windows installer deals with copying the necessary
communications library files into the JRE - however, you'll need to do
this manually in this instance.

1. from C:\Program Files\Java\jre1.7.0\lib\ext < Serialio.jar>
into 'C:\Program Files\Java\jdk1.7.0\jre\lib\ext'

2. from C:\Program Files\Java\jre1.7.0\bin <jspWin.dll> and <win32com.dll>
into 'C:\Program Files\Java\jdk1.7.0\jre\bin'
</pre>

<!--#include virtual="/Footer" -->


      </div>
      <!-- closes #mainContent-->
    </div>
    <!-- closes #mBody-->

</body>

</body>

</html>
