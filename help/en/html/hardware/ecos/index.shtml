<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<title>JMRI Hardware Support - ESU ECoS</title>

<!-- Style -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
<link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
<link rel="icon" href="/images/jmri.ico" type="image/png">
<link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<!--#include virtual="/Header" -->
  <div class="nomenu" id="mBody">
    <div id="mainContent">

<h1>Hardware Support: ESU ECoS</h1>

<a name="hardware"></a><h2>Supported Hardware</h2>
<h3>Command Station</h3>
<p>JMRI can connect to an ESU ECoS command station 
via an Internet connection.</p>
Support for ECoS was first available in <a href="http://jmri.org/releasenotes/jmri2.3.3.shtml">JMRI 2.3.3</a>.<br>
Support for the ECoS Throttle was first available in <a href="http://jmri.org/releasenotes/jmri2.7.4.shtml">JMRI 2.7.4</a>.<br>
Support for the ECoS s88 Feedback Sensors was first available in <a href="http://jmri.org/releasenotes/jmri2.7.9.shtml">JMRI 2.7.9</a>.<br />
Support for the ECoS RailCom Feedback was first available in <a href="http://jmri.org/releasenotes/jmri2.99.7.shtml">JMRI 2.99.7</a>.    

<a name="limitations"></a><h2>Limitations</h2>
<p>Programming is supported by the Ecos from firmware version 4.1. However this goes only for the programming track. Programming on main is only available directly on the ECOS. Additional information on the ECoS can be found
on the <a href="http://www.esu.eu/us/index.php?showId=205">ESU web site</a>.
<p>Consisting is not yet supported.</p>

<a name="connecting"></a><h2>Connecting</h2>
<h3>Settings</h3>
<p>To configure the connection:
<ul>
<li>Open the JMRI "Preferences" under the "Edit" menu,
<li>Select "ESU" as the System Manufacturer 
<li>Select "ECoS" as the System Connection (the only option)
<li>Enter the IP address for your ECoS unit
<li>Leave the port number at 15471
<li>Click "Save" &amp; restart
</ul>

<p>
Turnout, Sensor and a basic Throttle and power support is available for 
a JMRI-connected ECoS unit.
<p>

<h3>Throttles</h3>
Only basic support for Throttles via the ECoS is supported. When an entry from the Roster, or a DCC address is directly
entered into the address field, JMRI will check the existing list of ECoS Locos for a match on the first DCC address it comes across. 
If there is no match, the Throttle will create an entry in the ECoS database which will be listed as "Created By JMRI" with a default of 128 speed steps.<br />
From version 2.9.4 when you close down JMRI, you will be prompted to either delete or keep the entries in the ECoS.<br>
<p>Consisting is <strong>NOT</strong> supported.</p>

<h3>Sensors</h3>
ECoS-connected Sensors on the s88 bus have names like "US100:01", where "U" is the system name for esU ECoS,
"S" means sensor, "100" is the s88 board address registered in the ECoS, and "01" is the port on that board.
<p>

<h3>Turnouts</h3>
ECoS-connected Turnouts have names like "UT123", where "U"
is the system name for esU ECoS, "T" means turnout, and
"123" is the address.
<p>

<h3>ECoS initialisation</h3>
When JMRI first starts up, it reads the Turnout, Sensor and Locomotive information from the ECoS, which might take a couple of seconds. Turnouts and 
Sensors are both automatically added to the JMRI Sensor Table. This is necessary so that a link can be made between the Sensors and Turnouts configured in the Ecos and the accessory address that JMRI uses.<br>
While gathering the Locomotive information from the Ecos, JMRI will check to see if there is already a Roster entry associated with each Loco. If the check fails, the system will ask if you wish to add/import the Loco to the Roster.
<p>

<a name="tools"></a><h2>JMRI ECoS Tools</h2>
<ul>
<li>Ecos Preferences
<li>Command Generator
<li>Ecos Status
</ul>

<h3>Ecos Loco Database</h3>
The Ecos Loco Database tool allows you to view all the Locos that are configured on the Ecos, assign them to a JMRI Roster entry or Import it in to the JMRI Roster.

<h4>Importing Locos from the Ecos</h4>
When importing a Loco into JMRI, it currently only creates a skeleton record that contains the Loco Name along with the 
decoder type, if selected, and the Loco DCC Address. This process does not currently import into JMRI any CV values stored on the Ecos.

<h4>Exporting Locos to the Ecos</h4>
When a new Roster entry is created in JMRI, you will be asked if you wish to add the Roster entry into the Ecos Database.  The Ecos entry will use the Roster ID as the Loco Name, set the speed steps 128, and set the Loco Address. The number of speeds steps may later be changed in the Ecos Preferences menu.

<!--#include virtual="/Footer" -->
 </div><!-- closes #mainContent-->
</div> <!-- closes #mBody-->
</body>
</html>
