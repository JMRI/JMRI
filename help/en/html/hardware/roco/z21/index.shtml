<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<title>JMRI Hardware Support - Roco z21/Z21</title>

<meta content="Paul Bender, Egbert Broerse" name="Author">
<meta name="keywords" content="Fleischmann Roco z21/Z21 java model railroad JMRI install">

<!-- Style -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
<link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
<link rel="icon" href="/images/jmri.ico" type="image/png">
<link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<!--#include virtual="/Header" -->

  <div class="nomenu" id="mBody">
    <div id="mainContent">

<h1>Hardware Support: Fleischmann/Roco z21/Z21</h1>
    <p>
    The Roco z21/Z21 is a command stations with support for LocoNet,R-Bus and XPressNet devices and it includes a built in Ethernet port.  The device is also sold under the Fleischmann name. 
    <p>
    For connection to the device via the Loconet or XPressNet interface, please see the <a href="../../loconet/">LocoNet</a> and <a href="../../XPressNet/>XPressNet</a> connection pages.
    <p>  
    This page specifies connection to the z21/Z21 via the Ethernet port as documented on the <a href="http://www.z21.eu/en/Downloads">Z21 website</a>) 
    </p>
    
<ul><!-- TOC -->
	<li><a href="#hardware">Hardware</a></li>
	<li><a href="#limitations">Limitations</a></li>
	<li><a href="#connecting">Connecting with:</a>
		<ul>
		<li><a href="#RocoZ21Ethernet">Roco Z21 via Ethernet</a>
		<li><a href="#RocoZ21Simulator">The Z21 Simulator</a>
	</ul>
	<li><a href="#tools">JMRI Z21 Tools</a></li>
	<li><a href="#documentation">Documentation</a></li>
</ul>

<a name="hardware"></a><h2>Supported Hardware</h2>

<p>
Roco has sells two devices it sells as the White Z21 and the Black Z21.  The White Z21 is also sometimes refered to as the z21.  Both devices support connections via the Ethernet Port, to R-Bus Devices, and to XPressNet devices.  The Black Z21 also supports connections via LocoNet and Zimo's CAN bus.
<p>


<a name="Limitations"></a><h2>Limitations</h2>

<div class="list">
  <dl>
  <dt class=left>JMRI</dt>
	<dd class=first>
	<p>JMRI supports the current version (XBus/XPressNet Version 3.0).  We
	may add XBus Version 1.0 and 2.0 support in the future, which will allow
	all XBus based systems to work with JMRI.
	</dd>

	<dt class="left">white Z21</dt>
	<dd>
	<p>
        </p>
        </dd>

	<dt class="left">black Z21</dt>
	<dd>
	<p>
        </p>
        </dd>
</dl>
</div>

<a name="connecting"></a><h2>Connecting</h2>

<a name="RocoZ21Ethernet"></a><h3>Connecting to the Roco z21 or Z21 via the Ethernet connection</h3>

<b>Note: The first JMRI release supporting the Lenz LIUSB Ethernet connection was v 3.11.7.</b> 
<ol> 
    <li>To connect your computer to either the z21 or Z21 via Ethernet port, connect your z21/Z21 to your computer Network using the supplied Ethernet cable.<br>
    </li>

    <li>Once the device is connected, refer to the device documentation 
    for information on setting the IP address. The default IP address 
    is 192.168.0.111.  Make note of the IP address for use when configuring 
    the device.  

    <li>Start one of the JMRI-based programs, Then go to the preferences 
    panel. This opens automatically the first time a program is run, or you 
    can select it from the "Edit" menu.  

    <li>Select "Roco" from the system manufacturer selection box and "Roco Z21" from the top selection box.  There are two configuration options available for the LIUSB-Ethernet.  
    <li>Enter the IP address you saved earlier into the box labeled "IP Address/Host Name"
    </li>
    </ul></li>

    <li>Click "Save".  You'll be asked if it's OK for the program to  
    quit, click "Yes".

    <li>Restart the program. You should be up and running.
</ol>

<a name="RocoZ21Simulator"></a><h3>Connecting to the Roco Z21 Simulator</h3>
<ol> 
    <li> Start one of the JMRI-based programs, Then go to the preferences panel.    
    This opens automatically the first time a program is run, or you can select
     it from the "Edit" menu.  

    <li>Select "Roco" from the system manufacturer selection box and "Z21 Simulator" from the system connection selection box. There are no additional configuration steps required to use the Z21 Simulator.
    
    <li>Click "Save".  You'll be asked if it's OK for the program to  
    quit, click "Yes".

    <li>Restart the program. You should be up and running.
</ol> 

<a name="tools"></a><h2>JMRI z21/Z21 Tools</h2>
<img src="images/XpressNetMenu.png" width="236" height="224" align="right" alt="Menu">
	<p>The following tools are available from the  menu when this connection is active:
		<ul>
		<li>Open Z21 Monitor - This tool allows you to monitor traffic to and from the Z21.</li>
		<li>Send Z21 Command</li>
		<li>Z21 Configuration tool - This tool allows you to check and set the Z21 flags related to this connection.  Flags are set automatically by certain services JMRI starts, such as the Z21 XPressNet connection.
		</ul>

        <p>In addition to the Z21 specific menu, you will also find the Z21XPressNet menu, which contains the same XPressNet tools found on any XPressNet system.

<a name="documentation"></a><h2>Documentation</h2>
<h3>JMRI Help</h3>
	<ul>
	</ul>

<h3>Third Party info</h3>
	<ul>
        <li><a href="http://www.z21.eu/en">The Z21 Website</a> has a wealth of information about the Z21.
	</ul>

<h3>Credits</h3>
<p>Thanks to Paul Bender and others for implementing Z21 Support.

<!--#include virtual="/Footer" -->
 </div><!-- closes #mainContent-->
</div> <!-- closes #mBody-->
</body>
</html>
