<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

  <title>JMRI Hardware Support - Connecting to a Digitrax DCS52</title>
  <meta name="author" content="Bob Jacobsen">
  <meta name="author" content="B. Milhaupt">
  <meta name="keywords" content=
  "Digitrax DCS Command Station DCS52 java model railroad JMRI install windows">
  <!-- Style -->
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
  <link rel="stylesheet" type="text/css" href="/css/default.css"
  media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css"
  media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
  <!-- /Style -->
</head>

<body>
  <!--#include virtual="/Header.shtml" -->
  <div id="mBody">
    <!--#include virtual="Sidebar.shtml" -->
    <div id="mainContent">

        <h1>Hardware Support: Digitrax DCS52</h1>
      <img src="images/DCS52.png" alt="Image of the DCS52" width="200" align='right'>

      <div class="toc">
        <ul>
          <li><a href="#GeneralInfo">General information: Connecting to a Digitrax DCS52</a>

            <ul>
                <li><a href="#ChooseAMethod">Choosing the configuration method</a>
                <ul>
                    <li><a href="#Dcs52Standalone">DCS52 USB interface as a
                    stand-alone decoder programmer</a></li>
                    <li><a href="#Dcs52GeneralCmdStn">DCS52 USB interface as a
                    LocoNet Interface</a></li>
                    <li><a href="#Dcs52ViaAdapter">DCS52 connected via
                    some other LocoNet Interface</a></li>
                </ul></li>
            </ul></li>
            <li><a href="#InstallConfig">Installation and JMRI Configuration Instructions</a>
          <ul>
          <li><a href="#OperatingSystemSpecific">Operating-System-Specific Information</a>
              (if necessary).
              <ul>
                  <li><a href="#WindowsInstall">Micorsoft Windows</a></li>
                  <li><a href="#OSXInstall">Mac OSX</a></li>
                  <li><a href="#LinuxInstall">Linux</a></li>
              </ul>
          </li>
          <li><a href="#IdentifyPort">Identify the name used to communicate with the DCS52 by the operating system</a>
              <ul>
                  <li><a href="#WindowsSerialPortName">Identify the name used under Microsoft Windows</a></li>
                  <li><a href="#MacOsxSerialPortName" >Identify the name used under Mac OSX</a></li>
                  <li><a href="#LinuxSerialPortName">Identifying and configuring the serial port for Linux operating systems</a></li>
              </ul>

          <li><a href="#ConfigureJMRI">Configure JMRI for the connection method and usage mode you have
                  chosen</a>
              <ul>
            <li><a href="#Dcs52SetupStandAlone">Setup for the DCS52 acting as a standalone programmer</a></li>
            <li><a href="#Dcs52SetupUsbInterface">Setup for the DCS52 acting as a LocoNet interface</a></li>
            <li><a href="#SetupDcs52ViaAdapter">Setup for connected via some other LocoNet Interface</a></li>

              </ul>
          </li>

          </ul>
            </li>
            <li><a href="#SeeAlso">See Also</a></li>
        </ul>
      </div>
      <h1><a id="GeneralInfo" name="GeneralInfo">
      General information: Connecting to a Digitrax DCS52</a></h1>

      <p>JMRI may work with a DCS52 command station in either of two primary modes.
      One mode, called "Standalone Progamming Mode", enables JMRI to perform the following operations:
        <ul>
            <li>programming decoders via the DCS52's programming track 
            connections</li>
            <li>for some decoders, some limited exercising of mobile decoder 
            features when the decoder is connected to the DCS52 programming 
            track</li>
        </ul>
        <p>The other, more general, mode enables JMRI to use almost the full range
            of DCS52 features, including:
          <ul>
              <li>reading from (where possible) and writing to decoders on the
                  programming track (but operation of mobile decoders on the 
                  programming track <em>is not possible</em> in this mode)</li>
              <li>writing to decoders on, or connected to, the main DCC track</li>
              <li>controlling locomotives</li>
              <li>controlling switches and accessories</li>
              <li>monitoring and, where possible, configuring and/or controlling 
                  LocoNet devices</li>
          </ul>

      <p>There are also two different ways to connect the computer to the DCS52:
      <ul><li>via the DCS52's integrated USB connection, or</li>
          <li>via a separate computer-to-LocoNet interface device, such as:
              <ul>
                  <li>Digitrax PR3 or PR4;</li>
                  <li>RR-CirKits LocoBuffer or LocoBuffer-USB; or</li>
                  <li>some other computer-to-LocoNet interface device.</li>
              </ul>
          </li></ul>

      <p>These two sets of options combine to give four different ways to connect 
          and configure JMRI.  These are summarized in this table:</p>
      
      <p>When using JMRI only for the purpose of programming decoders via the 
      DCS52 programming track, the computer-to-DCS52 connection may be made via
      a simple USB cable, connected to the computer on one end and the DCS52's 
      integrated USB connector on the other end.  program decoders via the DCS52 "programming track" 
      connectionsJsing a DCS52 with JMRI can be done in a variety of ways.  The type of
      work you intend to do with JMRI and the DCS52 influences one key aspect of
      how to configure JMRIJMRI may be connected to the Digitrax DCS52 in any
      of a wide variety of ways.  How the computer communicates with the DCS52, 
      plus And JMRI may communicate with the DCS52 for
      two different purpuses.  Decisions on these two points determine exactly 
      how to connect and configure JMRI for use with the DCS52.
      
      Since the DCS52 has a built-in USB interface,
      it is possible to simply plug a USB cable into the computer and the DCS52,
      and configure JMRI to suit this connection.  It is also possible to use
      another LocoNet interface device, such as a LocoBuffer-USB, Digitrax PR3,
      or Digitrax PR4, to interface a computer to LocoNet, and connect that LocoNet
      to the DCS52.  JMRI does not prefer any one connection method over any
      other method.  Choose one which is suitable for your needs.</p>

      <p>If a USB cable is used to connect the JMRI computer to the DCS52's USB
      connection, JMRI may be configured in one of two modes.  If the computer
      will only be used for decoder programming, and JMRI will not need access to
      LocoNet features other than the DCS52 "programming track", then JMRI may
      be configured to use a "connection" where the DCS52 USB interface is
      placed into a mode where it acts as a standalone decoder
      programmer.  In this mode, JMRI will access the DCS52 dedicated
      programming track connections.  This mimics the "standalone programmer"
      configuration which the PR2 provides, and which the PR3 and PR4 can support.</p>

      <p>Alternately, when JMRI will be used to access LocoNet resources which
      go beyond simply the DCS52 programming track, then JMRI should be configured
      to act as a general-purpose LocoNet interface.  The JMRI "connection" should
      be configured so that the "command station" type specifies the type of
      command station which is being used.</p>

      <p>If, instead of using the DCS52's integrated USB port, you plan to
      connect your computer to the DCS52 using a LocoNet adapter device,
      follow the instructions found <a href="Digitrax.shtml#ConnectingAdapter">
      here</a>.</p>



    <p>The table below summarizes these possibilities.</p>
      <table border="3">
          <tr><td align="center" rowspan="2"><strong>Connection Type</strong></td>
              <td align="center" rowspan="2"><strong>Usage</strong></td>
              <td colspan="2" align="center"><strong>Settings in JMRI Connection Profile</strong></td>
              <td align="center" rowspan="2"><strong>Instructions</strong></td>
              <td align="center" rowspan="2"><strong>Available JMRI Capabilities</strong></td></tr>
          <tr><td align="center"><strong>System Connection</strong></td>
              <td align="center"><strong>JMRI Command Station Type</strong></td></tr>
          <tr><td rowspan="9" align="center">USB cable from computer to DCS52 USB connector</td>
              <td rowspan="2" align="center">Decoder Programming</td>
              <td rowspan="2" align="center">"<em>DCS52 USB Interface</em>"</td>
              <td rowspan="2" align="center">"<em>DCS52 Standalone Programmer</em>"</td>
              <td rowspan="2" align="center"><a href="#Dcs52Standalone">Configuration help</a></td>
              <td>Program decoder CVs on the dedicated programming track</td></tr>
        <tr><td>Operate one loco on the dedicated programming track</td>
        <tr><td rowspan="7" align="center">LocoNet Interface, Decoder Programming</td>
            <td rowspan="7" align="center">"<em>DCS52 USB Interface</em>"</td>
            <td rowspan="7" align="center">"<em>DCS52 (Zephyr Express Command Station)</em>"</td>
            <td rowspan="7" align="center"><a href="#Dcs52GeneralCmdStn">Configuration help</a></td>
            <td>Program decoder CVs on the dedicated programming track and/or the main track</td></tr>
        <tr><td>Control one or more locos on the main track</td></tr>
        <tr><td>Control and monitor LocoNet-connected Switches, Sensors, and Transponding</td></tr>
        <tr><td>Configure some LocoNet devices</td></tr>
        <tr><td>Control or monitor the LocoNet Fast Clock</td></tr>
        <tr><td>Update firmware on some LocoNet devices</td></tr>
        <tr><td>etc.</td></tr>
        <tr><td rowspan="7" align="center">Via an external LocoNet interface device</td>
            <td rowspan="7" align="center">LocoNet Interface, Decoder Programming</td>
            <td rowspan="7" align="center">Something other than "DCS52 USB Interface"</td>
            <td rowspan="7" align="center">"<em>DCS52 (Zephyr Express Command Station)</em>"</td>
            <td rowspan="7" align="center"><a href="#Dcs52ViaAdapter">Configuration help</a></td>
            <td>Program decoder CVs on the dedicated programming track</td></tr>
        <tr><td>Control one or more locos on the main track</td></tr>
        <tr><td>Control and monitor LocoNet-connected Switches, Sensors, and Transponding</td></tr>
        <tr><td>Configure some LocoNet devices</td></tr>
        <tr><td>Control or monitor the LocoNet Fast Clock</td></tr>
        <tr><td>Update firmware on some LocoNet devices</td></tr>
        <tr><td>etc.</td></tr>
      </table>

      <p>Note that it is possible to use the DCS52 in a "booster" mode, and rely upon
      some other command station.  If this configuration is used, the "command station"
      specified for the JMRI connection should match the device which is actually
      acting as the command station.</p>

      <h2><a name="ChooseAMethod" id="ChooseAMethod">Choosing a configuration
      method</a></h2>

      <p>When setting up a JMRI "connection profile", which "command station" should
      you use when configuring JMRI?  That depends on what you
      intend to do with JMRI.</p>
      <ul>
          <li>If you will <em>only</em> use JMRI to program decoders on
      the dedicated programming track, then configuring the connection for the
      "command station" type of "DCS52 Standalone Programmer" mode
      is a good choice.  In this mode, JMRI will be able to read and write decoder
      CV values.  In this mode, you may also use a JMRI throttle to select and
      control the locomotive on the dedicated programming track, subject to the
      ability of the DCS52 to supply sufficient current to the decoder.  JMRI will
      <em>not</em> be able to access LocoNet peripherals and JMRI throttles will <em>not</em>
      be able to control decoders via the "main track".</li>

      <li><p>If you wish JMRI to be able to control decoders via the DCS52 main track
      outputs, and access LocoNet devices, then configuring the connection for the
      "command station" type of "DCS52 Standalone Programmer" mode
      is a good choice.  In this mode, JMRI is able to control decoders connected
      via the main track outputs and access LocoNet devices.   JMRI may also
      perform decoder programming via the dedicated programming track, but JMRI
      throttles will <em>not</em> be able to run decoders which are on the dedicated
      programming track.</p></li>

      <li>If you think that both modes may be useful to you, you should consider
      setting up <em>two</em> configuration profiles.  Then, when you start
      JMRI, you may select the configuration profile which suits the way you want
      to use JMRI.  And to switch to the other mode, you may simply quit JMRI and
      re-start it, and select the other profile, so that you may perform the other
      type of work.</li>
      </ul>

      <h3><a name="Dcs52Standalone" id="Dcs52Standalone">DCS52 USB interface as
              a stand-alone decoder programmer</a></h3>
      <p><img src="images/DCS52StandaloneProgrammerConnections.png"
              alt="Typical connections for DCS52 for use as standalone programmer"
              width="300"></p>

      <p>When the DCS52 USB interface is configured to act as a programmer, it acts
      upon the dedicated programming track via the "programming track" connections
      on the DCS52. When JMRI is properly configured, JMRI
      can use the DCS52 programming track to access decoder CVs when the decoder is
      connected to the programming track.</p>

      <p>This JMRI configuration may also be used to download sound information into
      Digitrax sound decoders and, within its limited current
      capability, run one locomotive to test it. When used with
      Digitrax SFX decoders, "neutral mode" allows you to vary the
      speed without the motor moving the decoder, so you can hear
      how the locomotive sound reacts to varying speeds.</p>

      <p>In this mode of operations, JMRI will <em>not</em> have access to LocoNet-based
      devices, and will not have access to anything operated by the normal DCC track
      signal.</p>

      <h3><a name="Dcs52GeneralCmdStn" id="Dcs52GeneralCmdStn">DCS52 USB interface
              as a LocoNet Interface</a></h3>
      <p><img src="images/DCS52LocoNetInterfaceConnections.png"
              alt="Typical connections for DCS52 acting as a LocoNet interface"
              width="300"></p>

      <p>When acting as an interface, the DCS52 USB connection allows JMRI to
      interact with devices connected to LocoNet. This includes
      programming decoders on a programming track attached to a
      LocoNet command station. Where the LocoNet command station
      supports "programming on the main", JMRI is able to make use
      of that feature.</p>

      <h3><a name="Dcs52ViaAdapter" id="Dcs52ViaAdapter">DCS52 connected via some
      other LocoNet Interface</a></h3>
      <p><img src="images/DCS52LocoNetInterfaceViaAdapter.png"
        alt="Typical connections for DCS52 when connected to computer via a LocoNet Interface Adapter"
        width="300"></p>


      <p>JMRI may connect to the LocoNet via a LocoNet interface other than the
      DCS52 USB connector.  When connected in this fashion, <a
      href="Digitrax.shtml#ConnectingAdapter">these general instructions</a>, or,
      where available, the JMRI documentation associated with the LocoNet
      interface which is being used.</p>

    <h1><a id="InstallConfig" name="InstallConfig">Installation and JMRI Configuration Instructions</a></h1>
      <p>To set up the DCS52 for use with JMRI, the following steps apply:</p>
      <ol>
          <li><a href="#OperatingSystemSpecific">Operating-System-Specific Information</a>
              (if necessary).</li>
          <li><a href="#IdentifyPort">Identify the name used to communicate</a>
              with the DCS52 by the operating system.</li>
          <li><a href="#ConfigureJMRI">Configure JMRI for the connection method and usage mode you have
                  chosen</a></li>
      </ol>
      <p>These steps are described below.
    <h2><a name="OperatingSystemSpecific" id="OperatingSystemSpecific">
            Operating-System-Specific Information</a></h2>

    <p>For computer connection to the DCS52 via the DCS52 integrated USB connector
        and its integrated "PR4" functionality, the installation instructions and
        requirements change depending on which Operating System is in-use on the
        host computer.  This section addresses installation and requirements for
        the three major personal computer operating systems supported at this time
        by JMRI: Microsoft <a href="#WindowsInstall">Microsoft Windows</a>,
        Mac <a href="#OSXInstall">OSX</a>, and <a href="#LinuxInstall">Linux</a>.
        Please see the appropriate section for the operating system which JMRI
        will run "under".</p>

    <h3><a name="WindowsInstall" id="WindowsInstall">Microsoft Windows</a></h3>
    <p>Communication with integrated USB port of the DCS52 command station
    is made possible for computers running any of the Windows
    operating system versions via the Digitrax "PR3/PR4" drivers.  If you have
    previously installed these drivers on your computer, you likely will not need
    to re-install them.</p>

    <p>The appropriate driver software, along with installation instruction documents, may
    be found at the Digitrax <a href="http://www.digitrax.com/downloads/">
    "Downloads"</a> page.  Search for "PR3/PR4 Installation Instructions".  The
    installation instructions vary depending on which Windows Operating System version will
    be used on the machine which will run JMRI. Be sure to follow the specific
    instructions which are appropriate for that Windows Operating System version!</p>

    <p>While those instructions reference the PR3 (or perhaps reference the PR3 or PR3 Xtra),
    they apply equally to the DCS52 when connecting via the DCS52's integrated USB connector.
    Be aware that some differences between PR3 and DCS52 features exist, such as
    the way the PR3 indicates a basic USB connection to the host computer via a
    green LED, while the DCS52 indicates a basic USB connection by displaying "USB"
    in the top row of its display.  There may be other differences - but this JMRI
    developer does not see it as his responsibility to identify and explain those
    shortcomings of existing Digitrax documentation.</p>

    <p>Note that the Digitrax <a href="http://www.digitrax.com/downloads/">
    "Downloads"</a> page includes a "PR3 Firmware" version for 64-bit operating
    systems. This firmware file <strong>does not</strong> apply to the DCS52,
    regardless of the architecture (32-bit or 64-bit) of your conputer's operating
    system.  That firmware applies <em>only</em> to the PR3 device, not the DCS52
    device.</p>

    <h3><a name="OSXInstall" id="OSXInstall">Mac OSX</a></h3>

    <p>Computers running recent Mac OS X generally do not need installation of
    any DCS52-related "driver" software, as most Mac OSX installations include
    pre-installed support of the DCS52's USB hardware as part of the operating
    system installation.</p>

    <p>Digitrax provides a document which can help the "location" information that
    is used when configuring the JMRI connection's "serial port".  This document
    may be downloaded from the Digitrax <a href="http://www.digitrax.com/downloads/">
    "Downloads"</a> page.  At the time of this writing, the document is found
    in the "PR3/PR4 Installation Instructions" section and is called "PR3 / PR4 Mac
    OSX Instructions".</p>

    <p>While those instructions reference the PR3, they apply equally to the
    DCS52 when connecting via the DCS52's integrated USB connector.
    Be aware that some differences between PR3 and DCS52 features exist, such as
    the way the PR3 indicates a basic USB connection to the host computer via a
    green LED, while the DCS52 indicates a basic USB connection by displaying "USB"
    in the top row of its display.  There may be other differences - but this JMRI
    developer does not see it as his responsibility to identify and explain those
    shortcomings of existing Digitrax documentation.</p>

    <p>Note that the Digitrax <a href="http://www.digitrax.com/downloads/">
    "Downloads"</a> page includes a "PR3 Firmware" version for 64-bit operating
    systems. This firmware file <strong>does not</strong> apply to the DCS52,
    regardless of the architecture (32-bit or 64-bit) of your conputer's operating
    system.  That firmware applies <em>only</em> to the PR3 device, not the DCS52
    device.</p>

    <h3><a name="LinuxInstall" id="LinuxInstall">Linux</a></h3>

    <p>When running a Linux-based operating system, it is usually necessary to
    configure the operating system to give "user-level" access to the serial port
    which are used to communicate with the command station.  The associated steps
    will be covered as part of "identifying the serial port name", below.</p>

    <p>Computers running recent Linux distributions generally include appropriate
    "driver" support, and thus do not require installation of any driver
    software for use of the DCS52's integrated USB functionality with JMRI.</p>

    <p>Note that the Digitrax <a href="http://www.digitrax.com/downloads/">
    "Downloads"</a> page includes a "PR3 Firmware" version for 64-bit operating
    systems. This firmware file <strong>does not</strong> apply to the DCS52,
    regardless of the architecture (32-bit or 64-bit) of your conputer's operating
    system.  That firmware applies <em>only</em> to the PR3 device, not the DCS52
    device.</p>

    <h2><a id="IdentifyPort" name="IdentifyPort">Identify the name used to communicate</a>
        with the DCS52 by the operating system</h2>
    <h3><a id="WindowsSerialPortName" name="WindowsSerialPortName">Identify the name used under Microsoft Windows</a></h3>
    <p>Under Microsoft Windows operating systems, the DCS52 USB connection will be
        given a name of the form "<code><strong>COM<em>x</em></strong></code>", where
        "<code><strong><em>x</em></strong></code>" is a number chosen by the operating
        system.  Determining the specific number is easiest by using the Windows
        program "Device Manager".</p>
    <p>Open Windows Device Manager.  With recent Windows versions, it is simplest
        to open the "Settings" window, then search for "Device Manager".  Launch
        the application which is found.  For older Windows versions, one can
        "right-click" on "My Computer", select "Properties", select the
        "Hardware" tab, and then open "Device Manager" from the resulting options.</p>
    <p>Once Device Manager is open, look for the section called "<code><strong>Ports (COM & LPT)</strong></code>".
    This section includes an entry for the DCS52 if an appropriate driver is
    installed and a DCS52 is connected to the computer's USB system.  By connecting
    and disconnecting the USB cable to the DCS52, and watching the "<code><strong>Ports (COM & LPT)</strong></code>"
    section of the Device Manager display, one can determine which entry corresponds
    to the DCS52, and by reading that entry, its "COM" port number.</p>
    <p>The image below
    shows a portion of the Windows 10 Device Manager display, showing the DCS52
    entry with the identifier of "COM9".  In this case "COM9" is the identifying
    name which will be needed when configuring the JMRI connection serial port name.</p>
    <img src="./images/WindowsDeviceMgrPortsCOM9.png" width="300" alt="Windows Device Manager display showing DCS52 as COM9">
    <p>Note that because of the way JMRI makes use of the Windows COM port connection
    to the DCS52's integrated USB connection, any changes made to the "Port Settings"
    via Device Manager <strong>have no effect</strong> on JMRI's communications
    with the DCS52.</p>

    <h3><a id="MacOsxSerialPortName" name="MacOsxSerialPortName">Identify the name used under Mac OSX</a></h3>
    <p>See <a href="https://www.jmri.org/install/MacOSX.shtml#usb">the "USB Serial Issues"</a>
            section of the Mac OSX installation page at www.jmri.org (an internate
            connection is required).  Keep track of the specific name used by OSX
            to communicate with the DCS52, as that name will be used when
            configuring the JMRI connection's "serial port".  The name will
            generally begin with "<code><strong>cu.</strong></code>".</p>
    <h3><a id="LinuxSerialPortName" name="LinuxSerialPortName">Identifying and
            configuring the serial port for Linux operating systems</a></h3>
    <p>Linux operating systems will communicate with the DCS52 (via its integrated
    USB connection) via a device name that appears something like "<code>
    /dev/ttyUSB0</code> or some comparable name.  Exactly what that name
    is depends on the particular Linux variant being used, and perhaps the
    other USB devices connected.</p>

    <p>The first step in the instructions found under the "Using the Serial Ports" section of <a
    href="https://www.jmri.org/install/Ubuntu.shtml">this page about
    installing for Ubuntu Linux</a> can generally be used on any Linux flavor to
    find the name of a USB-based connection such as the one used when connecting
    to the DCS52's integrated USB port.  Once you identify the name using the
    procedure defined there, keep track of that specific name, as that name will
    be used when configuring the JMRI connection's "serial port".</p>
    <p>It may also be necessary to do one or more of the following actions to enable
        JMRI to make use of the serial port:</p>
    <ul>
        <li>Issue the second command shown in that section of the Ubuntu Linux page, to
            ensure that the Linux user account has permission to use the serial port.
            It may be necessary to perform this step once for each user name which
            will use JMRI.</li>
        <li>If JMRI does not list the device name you found (above) when you attempt
            to configure the JMRI connection's "Serial Port", it may be necessary to
            configure an environment variable to contain the serial port name
            before executing JMRI.  The process is described <a
                href="https://www/jmri.org/install/FAQLinux.shtml#usb">here</a>.</li>
    </ul>

    <h2><a id="ConfigureJMRI" name="ConfigureJMRI">Configure JMRI for the
            connection method and usage mode you have chosen</a></h2>
    <p>This part of the process is specific to the way in which you intend to use
        your DCS52, as chosen in the "<a href="#ChooseAMethod">Choosing the
            configuration method"</a> section, above.</p>
    <p>For configuration of the DCS52, via its integrated USB connector, for use
        as a "Standalone Programmer" (<em>without</em> the ability to control the
        normal DCC track signal or any LocoNet accessories),
        follow the instructions <a href="#Dcs52SetupStandAlone">here</a>.</p>

    <p>For configuration of the DCS52, via its integrated USB connector, for use
        as a general interface to the DCS52, with JMRI access to LocoNet devices
        and ability to control locos and DCC-track-connected devices, follow the
        instructions <a href="#Dcs52SetupUsbInterface">here</a>.</p>

    <p>When connecting JMRI to the DCS52 via a LocoNet adaptor other than the
        DCS52's integrated USB connector, see <a
      href="Digitrax.shtml#ConnectingAdapter">these general instructions</a>.</p>

    <h3><a name="Dcs52SetupStandAlone" id="Dcs52SetupStandAlone">Setup for the
              DCS52 acting as a standalone programmer</a></h3>

      <p>To use the DCS52 programming track, connect the DCS52 to its
      power supply and connect a dedicated piece of track which you'll
      use as the programming track to the DCS52 "programming track"
      terminals. Finally, connect a USB cable
      between the DCS52 and your computer.</p>

      <p>To set up JMRI to use the DCS52 via the dedicated
      decoder programming track mode:</p>

      <ul>
        <li>Start the JMRI program - either JMRI's DecoderPro or JMRI's PanelPro,
        to suit your usage needs.  If you wish only to use JMRI for programming
        decoders, DecoderPro is the better choice.  If you wish to do anything
        else with JMRI, start PanelPro.  Note that you may use both of these JMRI
        programs, but it will be necessary to configure them <em>separately</em>,
        because each program uses its own "configuration profile".</li>

        <li>Open the JMRI Preferences window from the Edit menu and
        configure the connection:

          <ul>
              <li>For the "<strong>System Connection</strong>" setting, select
                  "<code><strong>DCS52 USB Interface</strong></code>"</li>

            <li>Under "<strong>Serial Port</strong>", select the serial port that's connected to the
            DCS52</li>

            <li>In the "<strong>Command station type</strong>" option,
            select the type of command station you've got on your
            LocoNet. Typically, this will be "<code><strong>DCS52
            USB Interface as standalone programmer</strong></code>".</li>

            <li>The settings found under the "Advanced Configuration Settings"
            are usually a good starting point for most JMRI users.<br>
            Some users may encounter problems in using JMRI and may need to
            re-configure some of those settings.  Further information may be found
            <a href="Digitrax.shtml#TurnoutCmdHandling">here</a>.</li>
          </ul>
        </li>

        <li>Click Save at the bottom of the preferences window,
        quit the program and restart.</li>
      </ul>

      <p>The "connection" preferences should look similar to this image:</p>
      <img src="images/DCS52StandConnProfile.png" alt="Sample configuration profile with DCS52 USB interface as a standalone programmer" width="500">

      <h4><a name="Dcs52StandaloneHints" id="Dcs52StandaloneHints">DCS52 USB Interface
              in Standalone Programming Mode Usage Hints</a></h4>

      <ul>
          <li>You can use a JMRI throttle to control the locomotive
      connected to the DCS52 Programmer track. Use the JMRI Power Control
      or the "Power" menu item on the Throttle's menu bar to turn
      on track power, and then you can operate the locomotive
      normally via a JMRI throttle.</li>

      <li>The DCS52 can only provide very limited current to the programming track, so Digitrax
      has built a "neutral mode" into their sound decoders. When
      JMRI and the DCS52 is running a Digitrax sound decoder, the
      motor is disconnected to reduce the current load. You can
      still ramp the speed up and down with the throttle and listen
      to how the sound responds, but the motor won't move the
      locomotive.
      <ul>
          <li>To implement that "neutral mode" described
      above, the DCS52 automatically writes CV128 to 0 or 1. This
      happens when a JMRI throttle is used to run the locomotive on
      the DCS52 programming track, and there's nothing JMRI can do to
      prevent it. Unfortunately, this can interfere with the CV
      programming on some non-Digitrax decoders. For example, it
      will set the "Master Volume" CV128 on some SoundTraxx
      decoders to a very low volume.</li>

      <li>If you are working with a decoder that uses CV128
      for something, you should either not use a JMRI throttle to
      run the locomotive on the DCS52 programming track, or remember
      to rewrite CV128 with the right value just before removing
      the locomotive from the track.</li>
      </ul></li>

      <li>Other decoders, including decoders from other
      manufacturers, may draw enough motor current to trip the DCS52
      internal circuit breakers. This will cause JMRI to mark track
      power as "off". Just wait a couple seconds and turn the track
      power back on to recover.</li>

      <li>If the DCS52 is in its "Decoder CV programming" mode and JMRI is used to
          access decoder CVs, then the DCS52 display may show programming-related
          information that is not strictly accurate.  This is because the DCS52
          cannot easily discriminate between CV accesses made via its keypad and
          CV accesses made via other sources.</li>

      <li>It is possible run trains via the DCS52 controls and/or LocoNet-based
          throttles  when JMRI is programming a decoder on the DCS52 programming track.</li>
      </ul>

      <h3><a name="Dcs52SetupUsbInterface" id="Dcs52SetupUsbInterface">Setup for
      the DCS52 acting as a LocoNet interface</a></h3>
      <p>To use the DCS52 USB connection as a LocoNet interface, connect a LocoNet cable to
      a LocoNet connector on the DCS52. Connect an appropriate power
      supply to the DCS52, per the Digitrax instructions for the DCS52.  The
      DCS52 USB interface will not be able to communicate with LocoNet unless
      the DCS52 is properly powered. Finally, connect an appropriate USB cable between the
      DCS52 USB connector and your computer.</p>

      <p>To set up a JMRI application to use the DCS52 as an
      interface to a LocoNet which includes a LocoNet command
      station:</p>

      <ul>
        <li>Start the JMRI program - either JMRI's DecoderPro or JMRI's PanelPro,
        to suit your usage needs.  If you wish only to use JMRI for programming
        decoders, DecoderPro is the better choice.  If you wish to do anything
        else with JMRI, start PanelPro.  Note that you may use both of these JMRI
        programs, but it will be necessary to configure them <em>separately</em>,
        because each program uses its own "configuration profile".</li>

        <li>Open the JMRI Preferences window from the Edit menu and
        configure the connection:

          <ul>
              <li>For the "<strong>System Connection</strong>" setting, select
                  "<code><strong>DCS52 USB Interface</strong></code>"</li>

            <li>Under "<strong>Serial Port</strong>", select the serial port that's connected to the
            DCS52</li>

            <li>In the "<strong>Command station type</strong>" option,
            select the type of command station you've got on your
            LocoNet. Typically, this will be "<code><strong>DCS52
            (Zephyr Express command station)</strong></code>", but, if you have configured
            your DCS52 to act only as a booster, you should select the command
            station option which matches the active command station.</li>

            <li>In the advanced settings, the speed will be fixed
            at 57,600 baud.</li>

            <li>In the advanced settings, the "Flow Control" option
            defaults to "Use Hardware Flow Control", which is the
            preferred setting for the DCS52. You should try that
            first, as it is the most reliable mode. Only if you
            can't reliably program decoders using that choice, and
            only after checking that you're using the right port,
            should you select "None" for this preference and try
            again.</li>
          </ul>
        </li>

        <li>Click Save at the bottom of the preferences window,
        quit the program and restart.</li>
      </ul>

      <p>The "Connection" preferences should look similar to this image:</p>

      <img src="images/DCS52LocoNetInterfaceConnProfile.png" alt="Sample configuration profile with DCS52 USB interface as a LocoNet interface" width="500">



      <h3><a name="SetupDcs52ViaAdapter" id="SetupViaAdapter">Setup for connected via some
      other LocoNet Interface</a></h3>

      <p>Instructions for connecting JMRI to your DCS52 command station using some
      LocoNet interface other than the DCS52's integrated USB connector, follow <a
      href="Digitrax.shtml#ConnectingAdapter">these general instructions</a>.</p>





    <h1><a name="SeeAlso" id="SeeAlso">See Also</a></h1>
      <ul>
          <li><a href="Digitrax.shtml">JMRI's general Digitrax support page</a></li>
          <li>The JMRI <a href="../../apps/DecoderPro/Roster.shtml">Rosters</a> page.</li>
          <li>The JMRI <a href="CommandStationConfig.shtml">
                  Command Station Configuration</a> page describes how to configure
                  command station OpSw settings.</li>

          <li>For more information on the DCS52 itself, please consult the Digitrax
          web site:
          <ul><li>The Digitrax <a href=
                                  "http://www.digitrax.com/products/command-stations-boosters/DCS52/">DCS52</a> product page.</li>
              <li>The Digitrax <a href=
                                  "http://www.digitrax.com/tsd/product/DCS52/">DCS52 Support</a> page.</li>
              <li>Drivers for Windows-based machines may be found at the Digitrax
                  <a href="http://www.digitrax.com/downloads/">Downloads</a> page.
                  Note: Use the Digitrax PR3 drivers with the DCS52 USB interface.</li>
          </ul>
      </ul>

      <p>LocoNet&reg; is a registered trademark of <a href=
      "http://www.digitrax.com">Digitrax, Inc.</a></p>
      <!--#include virtual="/Footer.shtml" -->
    </div><!-- closes #mainContent-->
  </div><!-- closes #mBody-->
</body>
</html>
