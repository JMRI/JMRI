<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.17), see www.w3.org">

  <title>JMRI: Set Signals at Level Crossing Help</title>
  <meta name="author" content="Dave Duchamp">
  <meta name="keywords" content="JMRI help Layout Editor panel">
  <!-- Style -->
  <meta http-equiv="content-type" content=
  "text/html; charset=us-ascii">
  <link rel="stylesheet" type="text/css" href="/css/default.css"
  media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css"
  media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
  <!-- /Style -->
</head>

<body>
  <!--#include virtual="/Header" -->
  <div class="nomenu" id="mBody">
    <div id="mainContent">

      <h1>Set Signals at Level Crossing</h1>

      <h2>Introduction</h2>

      <p>A level crossing is a special piece of track that models
      two tracks crossing at grade. A level crossing is commonly
      referred to as a diamond. A level crossing has four
      connection points, named A, B, C, and D, and two tracks,
      designated 1, for the track connecting points A and C, and 2
      for the track connecting points B and D. When a level
      crossing is created, track 1 (AC) is the horizontal track,
      and track 2 is the inclined track. The naming convention is
      shown in the diagram below.</p>

      <p><a href="./images/XingDiagram.gif"><img src=
      "./images/XingDiagram.gif" width="173" height=
      "125" hspace="0" vspace="0"></a></p>

      <p>This tool will only place turnouts if track 1 (AC) is
      horizontal or vertical (or mostly horizontal or mostly
      vertical). Because the signal icons have only limited
      rotation capability, the signal icons look best if the two
      tracks of the level crossing are almost perpendicular to each
      other.</p>

      <p>Either one or both tracks may be signaled. For the Simple
      Signal Logic generated by this tool to work correctly, the
      level crossing should serve as a block boundary for each
      signaled track. For example, if track 1 (AC) is signaled, the
      track segment connected at A should be assigned to a
      different block from that at C. The AC track within the level
      crossing may be assigned to either block. Also, the crossing
      track should be assigned to one or more blocks with occupancy
      detection, so Simple Signal Logic can be set up to protect
      against a crossing train.</p>

      <p>For each signal head, check boxes are available for
      selecting whether an icon is to be placed on the panel, and
      whether control logic is to be created for the signal head.
      Regardless of whether icons are placed or logic is created,
      Layout Editor will record that the entered signal heads are
      assigned to the specified level crossing. <b>Assigning signal
      heads to level crossings is important to completely describe
      your layout in Layout Editor.</b> Even if you elect to place
      your icons and set up your signal logic manually, you should
      use this tool to assign the signal heads to their level
      crossing.</p>

      <h2>The Set Signals at Level Crossing Dialog</h2>

      <p>When this tool is selected, a dialog is shown for entry of
      information that will uniquely identify the level crossing,
      and for entry of the names (system or user) of two or four
      signal heads to be assigned to the level crossing. If entry
      to the tool was via the level crossing's popup menu, the
      level crossing is identified from the popup menu, and block
      information is automatically entered. If entry to the tool
      was via the Tools menu, one or two block names that uniquely
      identify the level crossing should be entered. This could be
      the two blocks assigned to track 1 and track 2. Or it could
      be just one of these blocks, provided no other level crossing
      uses the same block or block combination. It could also be
      the blocks assigned to track segments connected to the level
      crossing--any combination that allows the tool to uniquely
      identify the level crossing will probably work. If the tool
      cannot identify the level crossing an error message
      results.</p>

      <p>If signal heads at this level crossing have been assigned
      previously, click <b>Get Saved</b> to retrieve the names of
      signal heads currently assigned to the level crossing.</p>

      <p>Signal heads must be entered in pairs. If head A is
      entered, then head C must also be entered. Similarly, if head
      B is entered, then head D must be entered. Note that if two
      entries are blank, the tool assumes that there are no signal
      heads for that track, and any previous assignment of signals
      to that track will be automatically deleted, along with
      signal icons on the panel at those positions if there are
      any. Similarly if there was a signal head previously assigned
      to any position, and you enter a <i>different</i> signal head
      in the same place, the new signal head will replace the
      previous signal head, and the icon of the previous signal
      head (if there was one) will be deleted from the panel. <b>If
      a signal head is changed, you must redo any logic that
      involves it.</b></p>

      <p>For each signal head, check boxes are available for
      selecting whether an icon is to be placed on the panel, and
      whether Simple Signal Logic is to be created for the signal
      head. Regardless of whether icons are placed or logic is
      created, Layout Editor will record that the entered signal
      heads are assigned to the specified level crossing.</p>

      <p>Check <b>Add Signal Icon to Panel</b> to request that an
      icon for a signal head be placed on the panel at the level
      crossing position indicated. This tool can only place a
      signal icon on a level crossing where track 1 (AC) is almost
      vertical or almost horizontal. If this is not so, a message
      is printed, and you should place the signal icon manually
      using the Layout Editor tool bar. Regardless, the signal head
      name is assigned to the specified level crossing
      position.</p>

      <p>Check <b>Set up Logic</b> to request that the tool set up
      a Simple Signal Logic for a signal head. The tool will create
      the logic and automatically fill in entries from the
      information available. If the tool does not have enough
      information available to set up the logic, a message results,
      and you will have to return later after more signals and/or
      blocks have been assigned on the panel. If the tool does not
      have enough information to protect against a crossing train,
      a warning message results, but the logic is still
      created.</p>

      <h2>Notes</h2>

      <p>When setting up logic, this tool will follow track within
      a block until it finds a signal at the end of the block away
      from the level crossing being signaled. If your layout
      contains sections that are signaled and sections that are
      not, to get this tool to set up logic correctly, you may have
      to place a virtual signal (a signal that does not correspond
      to an actual signal on the layout) at the unsignaled end of
      the block that connects a section of track that is signaled
      with track that is not signaled. If a block ends with an end
      bumper, no signal is required at the end bumper.</p>

      <p>If a block has an internal turnout (the turnout, and the
      track segments at its throat and continuing legs are within
      the block), the program will expect signals at that turnout
      even if it's not at the end of the block. However, at times
      the user may not want to signal a seldom used turnout within
      a block. When following track through a block, the program
      will skip over unsignaled internal turnouts if <b>Skip
      Unsignaled Internal Turnouts</b> is checked in the Layout
      Editor <b>Tools</b> menu. It will always, however, warn that
      it is doing so. <b>Use this option with caution.</b> There is
      no signal protecting against a skipped turnout being set
      incorrectly, so if an unsignaled internal turnout is not set
      correctly, derailed trains could result.</p>

      <p>This tool sets up three-aspect signaling. If you have a
      special situation at a signal, you may have to edit the
      information entered by this tool into the Simple Signal
      Logic. If you would like four-aspect signaling, you can
      easily manually edit the logic to achieve this. Similarly, by
      simple hand edits of the logic, you can add approach
      lighting. The Simple Signal Logic dialog can be accessed from
      the popup menu of each signal icon. If your special situation
      cannot be handled by Simple Signal Logic, you should refer to
      Logix to tailor the signal logic to your needs.</p>

      <p><b>Please remember to save your Panel after using this
      tool.</b></p>

      <!--#include virtual="/Footer" -->
    </div><!-- closes #mainContent-->
  </div><!-- closes #mBody-->
</body>
</html>
