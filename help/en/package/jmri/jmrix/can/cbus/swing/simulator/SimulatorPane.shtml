<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.17), see www.w3.org">
  <meta name="keywords" content="JMRI help MERG CBUS Simulator simulate offline command station emulate emulator">
  <title>JMRI: MERG CBUS Simulator</title>
  <!-- Style -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <link rel="stylesheet" type="text/css" href="/css/default.css"
  media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css"
  media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/"><!-- /Style -->
</head>

<body>
  <!--#include virtual="/Header" -->

  <div class="nomenu" id="mBody">
    <div id="mainContent">
     <h1>JMRI: MERG CBUS Network Simulation Tool</h1>
      
      <ul class="nav">
      <li><a href="#direction">Direction</a></li>
      <li><a href="#cs">Command stations</a></li>
      <li><a href="#ev">Response Events</a></li>
      <li><a href="#opc">OPCs</a></li>
      </ul>
      
      <img src="../../../../../../../html/hardware/can/cbus/images/swing/simulator/cbus-network-simulation-pane-315x322.png"
       alt="CBUS Network Simulator screenshot" width="315" height="322" align="right">
       
      <p>The tool will start in the background of a CAN Simulation MERG Hardware Connection.</p>
      
      <p>You can also start the simulator manually for all connections by opening via the main MERG menu.</p>
      
      <p>Default options are shown on the right.</p>
      
      <p>You can add extra command stations or event responders by selecting Add in the top menu.</p>

      
     <h2><a name="direction" id="direction">Direction</a></h2>
      <ul>
      <li>Listen Outgoing - eg listening for a JMRI throttle</li>
      <li>Listen Incoming - eg listening for a CANCAB</li>
      <li>Send as Incoming - eg sending to JMRI throttle</li>
      <li>Send as Outgoing - eg sending to CANCAB</li>
      </ul>


     <h2><a name="cs" id="cs">Command Stations</a></h2>
      <p>You can select between a standard command station, along with disabling the command station.</p>
      
      <p>disabling the command station will cancel any current sessions.</p>
      
      <p>The number to the right of the dropdown indicates the current number of sessions it is handling.</p>
      
      <p>The reset button is equivalent to switching the command station off and on ( hard reset ).</p>



     <h2><a name="ev" id="ev" >Response Events</a></h2>
      <p>The tool can issue on or off response events to any requests that it hears on the network.
        </p>
        
        <p>Event Response: </p>
        
        <ul>
        <li>Disabled</li>
        <li>Random on / off</li>
        <li>Odd On / Even Off</li>
        <li>On</li>
        <li>Off</li>
        </ul>
        
        <p>The requests can also be filtered by node.</p>
        
        <ul>
        <li> -1 : No filter</li>
        <li> 0 : Just short events</li>
        <li> >0 : Only responds to requests for a particular node</li>
        </ul>        

      <h3><a name="opc" id="opc">Supported Operation Codes</a></h3>

        <h4>Received by Simulator ( from other JMRI applications, and from external to JMRI ) </h4>

        <p>Standard Command Station ( based on CANCMD firmware v3 )</p>
        <ul>
        <li>RTON</li>
        <li>RTOF</li>
        <li>RESTP</li>
        <li>RLOC</li>
        <li>QLOC</li>
        <li>DSPD</li>
        <li>DKEEP</li>
        <li>KLOC</li>
        </ul>
        
        <p>Event Status Requests</p>
        
        <ul>
        <li>ASRQ - Sent when user clicks status button, node number 0</li>      
        <li>AREQ - Sent when user clicks status button, node number > 0</li>
        </ul>

        <h4>Sent by Simulator ( as inbound to other JMRI applications, and to external network) </h4>

        <p>Standard Command Station </p>

        <ul>
        <li>TON</li>
        <li>TOF</li>
        <li>ESTOP</li>
        <li>ERR</li>
        <li>PLOC</li>
        </ul>

        <p>Sent as event responses</p>
        <ul>
        <li>ARON</li>
        <li>AROF</li>
        <li>ARSON</li>
        <li>ARSOF</li>
        </ul>
        
        
    <h3>JMRI Help</h3>
      
      <p>You can view this help page within JMRI by selecting Help > Window Help in the top bar of the MERG CBUS Event Capture window.</p>
      
      <p><a href="../../../../../../../html/hardware/can/cbus/index.shtml">Main JMRI MERG CBUS Support page</a>.</p>

      <!--#include virtual="/Footer" -->
    </div><!-- closes #mainContent-->
  </div><!-- closes #mBody-->
</body>
</html>
