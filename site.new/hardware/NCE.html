<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: NCE.html,v 1.13 2007-12-27 18:16:59 jacobsen Exp $ -->
<html lang="en">
<head>
 <TITLE>
      JMRI Hardware Guide: North Coast Engineering Powerhouse Pro
 </TITLE>
    <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
    <META content="Bob Jacobsen" name=Author>
    <META name="keywords" content="North Coast Engineering NCE Powerhouse pro java model railroad JMRI install windows">

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<div id="container">
  <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/" title="Return to home page" accesskey="1">
	    <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/apps/"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/hardware/"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/custom">
	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>
	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">
	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">
	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->





  <hr class="hide">

  <div class="nomenu" id="mBody">
    <div id="mainContent">
      <H2> 
      JMRI Hardware Guide: North Coast Engineering Powerhouse Pro
      </H2>

	<H3>Supported Hardware</H3>

	<ul>
	<li><a href="#phpro">NCE Powerhouse Pro</a>
	<li><a href="#powercab">NCE Powercab via NCE USB adapter</a>
	</ul>

    <a id="phpro"/>
    <h3>PowerHouse Pro</h3>
    This section discusses JMRI's support for the NCE PowerHouse Pro.
    
    <h4>EPROM Versions</h4>
    
    <p>The NCE Powerhouse Pro command station uses 
    an "EPROM" to contain it's software.
    NCE has made several of these available to it's users. JMRI
    has been updated to work with these as they come out. 
    To determine which ROM version you have, go to 
    the 'setup command station' menu on the ProCab. 
    The first screen will show you the EPROM version currently installed.
    <ul>
    <li>December 2004 EPROM - JMRI 1.6.1 or any JMRI 1.7 version
    or later
    should work fine.
    <li>2007 EPROM - you need JMRI 1.7.6 or later.
    <li>Various "beta test" versions from early 2006 - 
    ask NCE to send you an update to the 2007 EPROM, then
    use JMRI 1.7.6 or later
    </ul>
    
    <p>
    JMRI 1.7.6 has an option in the preferences to 
    select the EPROM version.  
    When using JMRI 1.7.6 or later, please pick either
    "2004 or earlier" or "2006 or later" as appropriate.
    
	<h4>Setup</h4>

	  <ol>
	  <li>To connect your computer to an NCE system, you can usually
	  just connect the command station to the computer's serial port
	  using a 9-pin serial cable.

	  <li>Then go to the preferences panel of a JMRI-based program.
	  This opens automatically the first time a program is run, or you
	  can select it from the "Edit" menu.

	  <li>Select "NCE" from the top selection box. You can then select
	  the proper serial port in the second selection box.

	  <li>If given the option to select a baud rate, 19,200 is 
	  probably your best bet.  If that selection is fixed (due
	  to using an older EPROM), don't worry.

      <li>Now set the baud rate in the NCE command station to be the
      same.  Use a ProCab to select "Set Cmd Sta" by pressing the 
      Prog/Esc button 5 times.  Then press the Enter button 15 times
      to select baud rates. Finally, select a baud rate (#2 is 19,200
      baud), and press esc to exit.
      
	  <li>The series of radio buttons labelled "GUI style" allows you
	  to select how the program will look. "Metal" is the native Java
	  look available on all types. Other choices will vary with your
	  computer type. "Motif", "Windows", "MacOS" and "MacOS Adaptive"
	  look native on Linux, Windows, MacOS "Classic" and MacOS X
	  respectively.

	  <li>In the bottom selection box, you can pick the default
	  programmer format. You can override this each time you open the
	  programmer, so this is here just for convenience.

	  <li>Click "Save". You'll be asked if it's OK for the program to
	  quit, click "Yes".

	  <li>Restart the program. You should be up and running.
	  </ol>

    <A id="names"/><h4>AIU Numbering</h4>
    The NCE "AIU" device allows the NCE command station to 
    check the status of inputs from the layout.  These are
    referenced in JMRI as "Sensors" with names like "NS785".
    "NS" means "NCE Sensor", and 785 is the number of a specific sensor input.
    <p>
    The sensor number can be found by using the following formula:
    <p> 
    Sensor ID = (AIU Cab Address - 1) * 16  + (Pin Number On AIU) -1
    <p>
    For example: The AIU cab address is set to 50 and one of the BD20s is connected to pin 2. Therefore the Sensor ID would be:
    <p>
    Sensor ID = (50 - 1) * 16  + (2) -1
    <p>
    Sensor ID = 785
    
	<h4>Limitations</h4>

	<p>A very small number of early
	NCE Powerhouse Pro command stations have an "optional analog control
	circuit". (If you don't recall special ordering this, you
	probably don't need to read the rest of this paragraph!)
	In these, pins 5, 6, and 9 are used with an analog
	voltage as a separate throttle. If you have one of these command
	stations, a normal 9-pin serial cable will not work! You'll need to
	make a custom cable that just connects the "send data", "receive
	data" and "ground" pins. See your NCE manual for details.</p>

    <a id="powercab"/>
    <h3>PowerCab</h3>
    
    NCE provides a USB adapter to connect the PowerCab to your computer.
    Starting with JMRI 1.9.3, JMRI can use this to operate the PowerCab.
    There are some limitations:
    <ul>
    <li>The PowerCab can't get information from AIUs, so they can't be
    used to get feedback from the layout.
    <li>???
    </ul>
    
    
    <h3>Other Information</h3>
    
	<p><a href="http://www.ncedcc.com/catalog2.html">NCE Systems and Cabs Catalog</a></p>

      <hr class="hide">
<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/sitemap/">Site Map</a></li>
	<li><a href="/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 1997 - 2004 JMRI Community. 
	<p>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
	<p><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->

   </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody-->
</div> <!-- closes #container -->
</body>
</html>

