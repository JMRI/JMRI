<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: Linux.html,v 1.9 2004-12-15 04:06:03 jacobsen Exp $ -->
<html lang="en">
<head>
 <TITLE>
 JMRI: Linux Install Guide
 
 </TITLE>
<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->

    <META content="Bob Jacobsen, LBL" name=Author>
    <META name="keywords" content="java model railroad JMRI install Linux">
</head>

<body>
<div id="container">
  <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/" title="Return to home page" accesskey="1">
	    <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/apps/"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/hardware/"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/custom">
	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>
	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">
	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">
	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->





  <hr class="hide">

  <div class="nomenu" id="mBody">
    <div id="mainContent">
      <H2> 
      JMRI Install Guide: Linux
      </H2>

      This page describes general aspects of installing JMRI on Linux.
      You can also find some more specific information
      on the "
      <A HREF="FAQLinux.html">JMRI Linux FAQ page</a>".
      <OL>
        <LI>Determine if your hardware supports Java and JMRI</LI>

	    <p>These steps outline how to install DecoderPro on Linux.
	    These steps should work for Red Hat 8, 9 and 10. They don't
	    work on RedHat 7.</P>

	<LI>Get and Install Java (if needed)</LI>

	    <p>See if you have a version of Java already installed<p>
	    <p class=example> csh> java -version</p>

	    <p>If the version is 1.4 or later, you may be fine, but
	       be aware that if you did not install Java on your system
	       yourself, some systems have Java only partially installed. They
	       will respond correctly to the above command, but still are not
	       all there. If your system does not have Java in the environment
	       variable PATH, the install is probably not complete. Check with
	       the system manager or do a fresh Java installation.</p>
	   
	   <p>If it is not at least 1.4, or if you get a "java: not found"
	   error, you will need to install it.</p>

	    <p>These steps need to be performed with superuser
	    priviledges.</p>

	    <ol type="a">
	    <li>Download the Java 1.4 "Linux Red Hat RPM shell script" from 
	       <A href="http://java.sun.com/j2se/">http://java.sun.com/j2se/</A>.
		This should give you a file named "j2re-1_4_0-fcs-linux-i386.rpm".
		Install that with:<BR>
		<TT>rpm -i j2re-1_4_0-fcs-linux-i386.rpm</TT></li>

	    <li>Download and Install the Java Communications API (javacomm20-x86) from
		<A
		HREF="http://java.sun.com/products/javacomm/">http://java.sun.com/products/javacomm/</A>
		and install it with<br>
		<TT>cp comm.jar /usr/java/j2re1.4.0/lib/ext/</TT><BR>
		<TT>echo Driver=gnu.io.RXTXCommDriver &gt;
		/usr/java/j2re1.4.0/lib/javax.comm.properties</TT><BR></li>

		<p>JavaComm on Linux requires a version of the rxtx package.
		Finding and building an rxtx package that works is a bit of a
		pain. Here's some help in that respect.</p>

		<P>While the <A HREF="ftp://jarvi.dsl.frii.com/pub/rxtx/rxtx-1.4-16pre2.tar.gz">latest
		version of rxtx-1.4</A> worked, newer versions has problems,
		although I didn't try real hard (I'm not a java programmer, so
		I didn't really want to wander through the mess of what it
		takes to use a newer rxtx package).</P>

		<P>Compiling this package isn't that hard, but if you're not
		into compilation, precompiled binaries are available:</P>
		<ul>
		  <li><a href="http://www.stpaulterminal.org/software/jmri/rxtx-1.4.16.pre2-1.i386.rpm">rxtx-1.4.16.pre2-1.i386.rpm</a>
		    01-Aug-2003 20:58   66K </li>
		  <li><a href="http://www.stpaulterminal.org/software/jmri/rxtx-1.4.16.pre2-1.src.rpm">rxtx-1.4.16.pre2-1.src.rpm</a>
		    01-Aug-2003 20:58  398K </li>
		</ul>

		<BLOCKQUOTE>
		    <p>This requires a Java SDK to be installed, and requires
		    that your <TT>$PATH</TT> includes the SDK.  Also, you
		    should have the javacomm JAR installed already.  </P>

		    <TT>$ tar zxf rxtx-1.4-16pre2.tar.gz</TT><BR>
		    <TT>$ cd rxtx-1.4-16pre2</TT><BR>
		    <TT>$ ./configure</TT><BR>
		    <TT>$ make</TT><BR>
		    <TT>$ make install</TT><BR>
		</BLOCKQUOTE>

		<P>The rxtx RPMS above are the binary &amp; source packages.  They're
		suitable for any machine with the j2sdk 1.4.2-fcs RPM installed.
		That's what I've got, and I haven't tried to make it any fancier.
		But installation should be very simple:

		<BLOCKQUOTE>
		<TT>root# rpm -Uvh rxtx-1.4.16.pre2-1.i386.rpm</TT>
		</BLOCKQUOTE>
	
		<P>If you don't have the right Java SDK installed, you can
		extract the binaries by running:</P>

		<BLOCKQUOTE>
		<TT>$ rpm2cpio rxtx-1.4.16.pre2-1.i386.rpm  | cpio -ivd</TT>
		</BLOCKQUOTE>

		<P>and then copying the files from
		<TT>./usr/java/j2sdk1.4.2/jre/lib</TT> to the right places for your
		  installed Java.</P>

	      <LI>Give user-level application access to serial ports<BR>
		    <TT>chmod 666 /dev/ttyS0</TT><BR>
		    <TT>chmod 666 /dev/ttyS1</TT></LI>

	      <LI>Give user access to lock files (required on Red Hat).
	       Edit /etc/group &amp; /etc/gshadow to add user to 'uucp' and 'lock'
	       groups.</p>
	       </ol>

	    <p>Note that you will have to reinstall the rxtx driver and
	    javax.com package if you have to reinstall the system software,
	    or if you do a "clean install" of an OS update.</p>


	<LI>Get JMRI</LI>

	<p><a href="../download/index.html#prod-rel">Download</a> a version of JMRI, either the
	latest production version, or a "test version".  Since the version
	numbers change with every release, this link takes you to the general
	JMRI download page, where you can select whichever version you like.</p>

	<p>The JMRI project is continuously adding features, bug fixes,
	examples and tutorials to the release, and so a new "test" versions
	appear every couple of weeks.  You may find one of these has features
	that you really want.  These are announced in the "jmriusers" Yahoo
	discussion group at
	<a href="http://groups.yahoo.com/group/jmriusers/">http://groups.yahoo.com/group/jmriusers/</a>.
	</p>

	<LI>Install JMRI</LI>

	<p>Uncompress/untar the file you downloaded above.  This will create the "JMRI" folder.</p>
	<p>To install, you just have to move the JMRI folder to where you
	want it on your computer.</p>

	<LI> Installation is complete.</LI>
	<p>
	You can run the program by using
	the "DecoderPro.csh", "LocoTools.csh", "PanelPro.csh" or
	"JmriDemo.csh" scripts in the JMRI folder.

	</OL>

      <hr class="hide">
<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/sitemap/">Site Map</a></li>
	<li><a href="/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 1997 - 2004 JMRI Community. 
	<P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
	<P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->

   </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody-->
</div> <!-- closes #container -->
</body>
</html>

